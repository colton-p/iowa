<html>

<head>
    <link rel="stylesheet" href="https://cdn.simplecss.org/simple.min.css">
</head>

<body>
    <p id="score-box"></p>
    <div style="display: flex">
        <div>
            <?xml version="1.0" encoding="utf-8" ?>
<svg baseProfile="full" fill="#d0d0d0" height="400.0" stroke="#ffffff" stroke-width="1" version="1.1" width="359.328672910626" xmlns="http://www.w3.org/2000/svg" xmlns:ev="http://www.w3.org/2001/xml-events" xmlns:xlink="http://www.w3.org/1999/xlink">
	<defs />
	<g id="counties"><path d="M 90.50312368427066,57.385136116685786 L 132.580163543245,58.04869413317973 L 132.4652500918132,73.33402430274076 L 168.89053681119933,73.27904868792486 L 168.83367744185782,75.74505093311558 L 160.17902059054055,76.17624191386614 L 159.08074024226192,86.06973777838246 L 168.70009660333673,90.53141183383481 L 168.7948791879185,112.48329268051725 L 169.00743990386297,126.85482434792652 L 169.06204410759034,128.47047490200345 L 148.62936720749624,128.2810481533611 L 146.78027436677777,128.1660973320377 L 141.12133623113087,128.24092310058947 L 139.15753244197293,128.2299946660538 L 114.1331587829694,127.943173341136 L 111.792992326503,121.87598357759684 L 107.73414681907512,121.82140538093724 L 108.29974949856809,73.15305056447842 L 90.15790822768109,72.80472111793215 L 90.50312368427066,57.385136116685786 z" id="c35043" />
		<path d="M 251.911404284055,317.17026795367735 L 252.0898527794532,286.0806757401329 L 312.888353320975,284.83697340431166 L 313.621017770323,315.9313931164514 L 319.0521893567471,315.8065393260242 L 319.9194692726602,352.47874534530024 L 304.5204422330908,352.82986839386086 L 301.8691480468363,352.88661741978797 L 264.831276031183,353.5127972043229 L 252.61359495944907,353.681314586674 L 251.911404284055,317.17026795367735 z" id="c35015" />
		<path d="M 0.8853000586715748,366.3778537600055 L 1.461439743629702,346.1841938873354 L 2.1293148830750668,322.1445852313771 L 2.8081653443764245,297.47792344657887 L 2.8085778227906726,297.4621894170386 L 14.23198459800886,297.7903393366656 L 14.030702101530126,310.0067773414747 L 26.30104688090185,310.2703972585573 L 26.148398559908692,316.39468363370986 L 32.67945385918521,316.5314454817742 L 31.985147737451957,347.20363873119936 L 32.45131955394048,362.40331909016703 L 50.872822859624264,362.72657712820893 L 50.81780758699111,365.7923958289732 L 51.295122215187575,368.3910417386206 L 50.926903800207775,388.32088592132374 L 50.7186586692655,400.0 L 20.639337911670836,399.41120785750564 L 11.393437415192182,399.25994619368595 L 0.0,398.9668319838612 L 0.8853000586715748,366.3778537600055 z" id="c35023" />
		<path d="M 7.798805543442195,115.80508364704694 L 8.32697057381414,98.19454705324183 L 8.874961679946018,79.53581526244426 L 9.13125190701868,70.89999590624716 L 90.15790822768109,72.80472111793215 L 108.29974949856809,73.15305056447842 L 107.73414681907512,121.82140538093724 L 89.34209099023994,121.69032884026302 L 89.41242235488507,118.60141633549587 L 83.31608528419233,118.52516498355955 L 83.27164418497769,121.55671063436694 L 40.97864984176129,120.64914275602999 L 40.968829540978525,121.17010335597091 L 40.3945113957439,145.0656914080332 L 7.055291264343576,144.1772168702125 L 7.451384131925881,129.02203091789647 L 7.798805543442195,115.80508364704694 z" id="c35031" />
		<path d="M 106.48615658008805,299.1806810478125 L 130.90602626138494,299.438061271981 L 130.91507898311815,296.3834098544593 L 163.37693620815168,280.34778609990315 L 163.35975059323877,286.97507793839486 L 161.23628030852825,286.99619631253444 L 161.12140541231466,354.1664401904252 L 146.6862898671458,354.18565621570446 L 145.98350029373591,356.2356107878641 L 146.3687085270209,360.25395012355625 L 145.61353938965138,363.23609444738116 L 148.8680544812124,367.2907248596754 L 152.04545206257325,369.4587104576335 L 151.83639161238239,369.404683491688 L 124.14601564403566,369.2896979744699 L 105.9624876725338,369.1445190009809 L 106.35545549401903,311.4529433028387 L 106.48615658008805,299.1806810478125 z" id="c35013" />
		<path d="M 271.9840589374041,57.06314183361256 L 296.3075998427839,56.583788722161934 L 296.37604575697833,59.64639304392967 L 308.617649782277,59.38906743475313 L 308.74398307729655,65.58950802590114 L 333.24279495596954,64.89457974607288 L 332.86033102054876,71.05244371010924 L 333.38169905157923,89.26245220208466 L 333.8197400728879,113.35185872726983 L 319.028815418815,114.26372852470715 L 313.98942130085925,112.065997051499 L 298.80775029665364,85.7954547227641 L 296.2759588438879,87.27732531336001 L 276.33304967617266,87.8495996613893 L 275.1055447367585,82.37014440590805 L 278.5352920379322,75.09348223011816 L 273.3345342397049,63.698430698347636 L 271.9840589374041,57.06314183361256 z" id="c35021" />
		<path d="M 168.70009660333673,90.53141183383481 L 173.19888827594505,85.47640871709736 L 168.8283549368606,84.67618440721448 L 168.97723008899743,78.24460839024938 L 179.90598990823756,78.23053523849005 L 178.93672256674847,73.25992231171776 L 199.16151896192744,73.13357764105058 L 199.1323807666331,74.79005675122512 L 198.9990932097316,82.34602707118728 L 199.66436856098923,140.6115621857581 L 171.92213607796754,140.78843948309898 L 169.08251525546248,140.80708179732525 L 169.06204410759034,128.47047490200345 L 169.00743990386297,126.85482434792652 L 168.7948791879185,112.48329268051725 L 168.70009660333673,90.53141183383481 z" id="c35049" />
		<path d="M 302.36493872717165,169.82820926617472 L 314.59893661026814,169.56348483491078 L 315.0140213372977,190.75434110931656 L 331.3515847098458,190.31375988708777 L 355.6068712866787,189.64090346746403 L 356.04277159941023,202.9771954214849 L 356.11938804706847,205.32752900449788 L 356.4547363649679,223.23038548774377 L 356.69932612245384,241.09094668722304 L 356.69934831399235,241.09264950818923 L 329.7945463743356,241.89636619194624 L 329.65410190338645,235.77417177513956 L 317.40381543764624,236.16068954038252 L 317.2069459436199,224.6845610099588 L 309.87616127715916,224.88576814792927 L 309.45691088874537,206.43212713786198 L 303.3584232117425,206.53380737406528 L 302.36493872717165,169.82820926617472 z" id="c35041" />
		<path d="M 199.1323807666331,74.79005675122512 L 207.6665492742848,75.08428912305457 L 209.79682344202038,72.3139971600735 L 216.0255885593107,63.92643515555287 L 216.54944983039383,56.53771106138513 L 220.42626260081994,54.742932701100976 L 247.50860306699528,54.45348064472206 L 247.5433296404001,57.51306911813037 L 271.9840589374041,57.06314183361256 L 273.3345342397049,63.698430698347636 L 278.5352920379322,75.09348223011816 L 275.1055447367585,82.37014440590805 L 276.33304967617266,87.8495996613893 L 254.5458881548289,87.95658413425872 L 239.2083593110631,89.13200701343125 L 238.84143588751488,90.20744518011472 L 233.95374869647904,86.49323314253165 L 220.30745561163704,82.2244476642582 L 198.9990932097316,82.34602707118728 L 199.1323807666331,74.79005675122512 z" id="c35033" />
		<path d="M 223.1500553078507,170.9670523161154 L 224.44909787399484,170.96783233706492 L 224.13387717937536,140.39842745413955 L 223.9940379842335,128.14536950051456 L 291.21092081955356,127.15770143922356 L 291.3223660446344,132.3307081515803 L 291.6309815208616,157.8157772060376 L 279.42124420548174,158.0802021654311 L 279.5424821954222,164.1790465639228 L 273.43931002083303,164.33239563422933 L 273.55847334675605,170.42217451161338 L 247.58458729307637,170.86642156534398 L 247.8433454874479,188.9427380206506 L 223.3011008459264,189.20874098468389 L 223.1500553078507,170.9670523161154 z" id="c35019" />
		<path d="M 219.6049505695279,28.40142838755858 L 218.4864820313544,25.311477724003588 L 221.78361048429807,22.228206367215893 L 226.37686591199795,22.22955226502459 L 226.35524291427134,13.522364996053057 L 227.9546052162984,8.732794010793027 L 226.74375942998108,3.1293163357435856 L 230.4329563658395,3.0943935609926547 L 232.3627502998485,3.075114995993292 L 254.27460883348718,2.909680412402148 L 276.43541776471955,2.5043341872286806 L 295.0869061877887,1.9251935850259494 L 296.3075998427839,56.583788722161934 L 271.9840589374041,57.06314183361256 L 247.5433296404001,57.51306911813037 L 247.50860306699528,54.45348064472206 L 220.42626260081994,54.742932701100976 L 221.1243935053558,44.649944629003265 L 219.4191036758786,41.56950767686634 L 221.55327061072796,38.58523243337149 L 218.16658665138917,34.37319391926294 L 219.6049505695279,28.40142838755858 z" id="c35007" />
		<path d="M 296.3075998427839,56.583788722161934 L 295.0869061877887,1.9251935850259494 L 310.56119130577105,1.3953734603423074 L 347.03626083273633,0.17627944602054785 L 351.76553636190494,0.0 L 351.9958735773903,6.3625566331206755 L 352.5244278738685,22.83730117662747 L 352.7155960212574,27.93006770328134 L 352.9446643125479,35.121740224538286 L 350.70382853831967,35.19395644869619 L 351.80429928580895,66.48072532716203 L 352.5033873926611,88.67474186905795 L 333.38169905157923,89.26245220208466 L 332.86033102054876,71.05244371010924 L 333.24279495596954,64.89457974607288 L 308.74398307729655,65.58950802590114 L 308.617649782277,59.38906743475313 L 296.37604575697833,59.64639304392967 L 296.3075998427839,56.583788722161934 z" id="c35059" />
		<path d="M 114.1331587829694,127.943173341136 L 139.15753244197293,128.2299946660538 L 141.12133623113087,128.24092310058947 L 146.78027436677777,128.1660973320377 L 148.62936720749624,128.2810481533611 L 169.06204410759034,128.47047490200345 L 169.08251525546248,140.80708179732525 L 169.08936456675104,146.89244954767796 L 174.5208819681584,146.8820452893793 L 174.53200420788062,152.73360086651434 L 159.3646050769496,152.72122035274083 L 159.2112065922442,151.17780984683662 L 158.66144336706049,150.49965230941586 L 143.5149868905858,150.13819439057738 L 141.48584372901732,152.6787809186178 L 123.87100987704925,152.50152629238656 L 121.51443638983483,146.4303504773058 L 114.1331587829694,127.943173341136 z" id="c35001" />
		<path d="M 161.4678630085311,237.67594896360097 L 180.31362125742714,238.38592970213395 L 180.29336271924478,226.07632018300853 L 187.793283083463,226.05601409195555 L 187.6215271146517,195.55491843865698 L 223.34901185627348,195.33073294617904 L 223.3011008459264,189.20874098468389 L 247.8433454874479,188.9427380206506 L 247.9901724199729,207.10781522526074 L 248.68336935517078,255.57633206170453 L 249.19848157498382,262.0570680824566 L 248.15263345816737,273.79367006069583 L 223.84583365009618,274.52133723136376 L 223.7129785271734,262.3271519477717 L 199.62447352877967,262.5755602927525 L 199.52267964661354,256.55169866906147 L 163.09148725009567,256.62909967704707 L 161.54932904549435,256.54140727752787 L 161.50350434805353,250.35880257494355 L 161.4678630085311,237.67594896360097 z" id="c35027" />
		<path d="M 312.888353320975,284.83697340431166 L 315.7353336654514,284.75989183957114 L 315.0216613569985,254.55568179835086 L 317.67052911618435,254.4839976007394 L 317.4072409642054,242.2523116088163 L 329.7945463743356,241.89636619194624 L 356.69934831399235,241.09264950818923 L 356.8647958334674,253.89766833357464 L 357.01589823561756,265.7905889162429 L 357.37257570245623,284.07083868129837 L 357.52154334755807,291.7833359875103 L 358.0814563188468,310.1448640571751 L 358.2237272618093,314.76643591993405 L 359.02877599379156,341.2623506279835 L 359.14921200765883,345.33344188796355 L 359.328672910626,351.4119676622064 L 343.6419802042505,351.8659665274481 L 319.9194692726602,352.47874534530024 L 319.0521893567471,315.8065393260242 L 313.621017770323,315.9313931164514 L 312.888353320975,284.83697340431166 z" id="c35025" />
		<path d="M 113.63233327713917,146.33377777373434 L 121.51443638983483,146.4303504773058 L 123.87100987704925,152.50152629238656 L 141.48584372901732,152.6787809186178 L 143.5149868905858,150.13819439057738 L 158.66144336706049,150.49965230941586 L 159.2112065922442,151.17780984683662 L 159.3646050769496,152.72122035274083 L 156.3497396119711,152.7196432436456 L 156.30153045137462,156.91063181771094 L 156.28416264138167,158.8288321605883 L 156.17186713148223,160.81880438604313 L 156.16219667464136,163.47713914964433 L 155.9534525147937,177.22672411351616 L 159.02883021264117,177.19763268812758 L 159.01682992376405,182.95804980729594 L 138.6072671830731,176.45796880862602 L 131.98105985335155,173.03031685739035 L 113.44615424041217,172.9392210398587 L 113.63233327713917,146.33377777373434 z" id="c35061" />
		<path d="M 65.71779502637784,249.62550651842048 L 82.65609307901389,249.97060518984307 L 155.5309093639766,250.63592778231765 L 161.50350434805353,250.35880257494355 L 161.54932904549435,256.54140727752787 L 163.09148725009567,256.62909967704707 L 163.37693620815168,280.34778609990315 L 130.91507898311815,296.3834098544593 L 130.90602626138494,299.438061271981 L 106.48615658008805,299.1806810478125 L 106.35545549401903,311.4529433028387 L 88.00091625547991,311.23952085951095 L 80.38989373918085,309.4490558605228 L 81.45929575346503,299.02925312267894 L 78.4691554134272,293.6706209620333 L 78.12792567895563,286.7126402836858 L 73.67464284194457,283.15119443477226 L 74.95554943955584,278.5895937923376 L 73.79235250442153,269.2221985008668 L 65.39155993885302,269.06105209006313 L 65.71779502637784,249.62550651842048 z" id="c35051" />
		<path d="M 160.17902059054055,76.17624191386614 L 168.83367744185782,75.74505093311558 L 168.97723008899743,78.24460839024938 L 168.8283549368606,84.67618440721448 L 173.19888827594505,85.47640871709736 L 168.70009660333673,90.53141183383481 L 159.08074024226192,86.06973777838246 L 160.17902059054055,76.17624191386614 z" id="c35028" />
		<path d="M 198.9990932097316,82.34602707118728 L 220.30745561163704,82.2244476642582 L 233.95374869647904,86.49323314253165 L 238.84143588751488,90.20744518011472 L 239.2083593110631,89.13200701343125 L 254.5458881548289,87.95658413425872 L 276.33304967617266,87.8495996613893 L 296.2759588438879,87.27732531336001 L 298.80775029665364,85.7954547227641 L 313.98942130085925,112.065997051499 L 319.028815418815,114.26372852470715 L 319.30026098894007,124.7214105990725 L 306.5940059531642,124.93037263640863 L 291.3223660446344,132.3307081515803 L 291.21092081955356,127.15770143922356 L 223.9940379842335,128.14536950051456 L 224.13387717937536,140.39842745413955 L 199.66436856098923,140.6115621857581 L 198.9990932097316,82.34602707118728 z" id="c35047" />
		<path d="M 161.23628030852825,286.99619631253444 L 163.35975059323877,286.97507793839486 L 163.37693620815168,280.34778609990315 L 163.09148725009567,256.62909967704707 L 199.52267964661354,256.55169866906147 L 199.62447352877967,262.5755602927525 L 223.7129785271734,262.3271519477717 L 223.84583365009618,274.52133723136376 L 224.00648039895336,286.4712188662561 L 222.02275415652636,317.6159731642031 L 251.911404284055,317.17026795367735 L 252.61359495944907,353.681314586674 L 248.3888475657831,353.7342132572748 L 234.29195345565088,353.89074773286677 L 198.60604387940364,354.03409579242884 L 183.80445324082183,354.10178360462265 L 171.67774080189713,354.131991570992 L 161.12140541231466,354.1664401904252 L 161.23628030852825,286.99619631253444 z" id="c35035" />
		<path d="M 83.06182921894919,172.61791003656094 L 113.44615424041217,172.9392210398587 L 131.98105985335155,173.03031685739035 L 138.6072671830731,176.45796880862602 L 159.01682992376405,182.95804980729594 L 159.05157374615004,195.5889004224715 L 187.6215271146517,195.55491843865698 L 187.793283083463,226.05601409195555 L 180.29336271924478,226.07632018300853 L 180.31362125742714,238.38592970213395 L 161.4678630085311,237.67594896360097 L 161.50350434805353,250.35880257494355 L 155.5309093639766,250.63592778231765 L 82.65609307901389,249.97060518984307 L 83.2317800415057,194.9784538297773 L 82.71425321458564,193.96168124885497 L 83.06182921894919,172.61791003656094 z" id="c35053" />
		<path d="M 3.9821854065778957,253.06898398832163 L 4.720768800720208,227.24542954235957 L 4.918024558024862,220.38619474643926 L 6.18077355900187,174.90910430393663 L 6.294004304135269,170.9117568546167 L 83.06182921894919,172.61791003656094 L 82.71425321458564,193.96168124885497 L 83.2317800415057,194.9784538297773 L 82.65609307901389,249.97060518984307 L 65.71779502637784,249.62550651842048 L 65.39155993885302,269.06105209006313 L 38.85914583192769,268.5779534166982 L 33.36751688580139,267.9710713926481 L 3.607143494653682,267.18046401397584 L 3.607273869545524,267.1755491073008 L 3.9821854065778957,253.06898398832163 z" id="c35003" />
		<path d="M 156.16219667464136,163.47713914964433 L 156.17186713148223,160.81880438604313 L 156.28416264138167,158.8288321605883 L 156.30153045137462,156.91063181771094 L 156.3497396119711,152.7196432436456 L 159.3646050769496,152.72122035274083 L 174.53200420788062,152.73360086651434 L 174.5208819681584,146.8820452893793 L 169.08936456675104,146.89244954767796 L 169.08251525546248,140.80708179732525 L 171.92213607796754,140.78843948309898 L 199.66436856098923,140.6115621857581 L 224.13387717937536,140.39842745413955 L 224.44909787399484,170.96783233706492 L 223.1500553078507,170.9670523161154 L 223.3011008459264,189.20874098468389 L 223.34901185627348,195.33073294617904 L 187.6215271146517,195.55491843865698 L 159.05157374615004,195.5889004224715 L 159.01682992376405,182.95804980729594 L 159.02883021264117,177.19763268812758 L 155.9534525147937,177.22672411351616 L 156.16219667464136,163.47713914964433 z" id="c35057" />
		<path d="M 247.8433454874479,188.9427380206506 L 247.58458729307637,170.86642156534398 L 273.55847334675605,170.42217451161338 L 273.43931002083303,164.33239563422933 L 279.5424821954222,164.1790465639228 L 279.42124420548174,158.0802021654311 L 291.6309815208616,157.8157772060376 L 291.9040849099108,170.047547127193 L 302.36493872717165,169.82820926617472 L 303.3584232117425,206.53380737406528 L 291.1086491969536,206.74528350211642 L 291.19574042649214,212.91237801781836 L 254.34684250863353,213.22040477781783 L 254.2399109658522,207.07378126195078 L 247.9901724199729,207.10781522526074 L 247.8433454874479,188.9427380206506 z" id="c35011" />
		<path d="M 9.370296072288182,62.866606053432875 L 10.933218800586786,9.630921692516315 L 11.201780216799055,0.8821232649660333 L 35.152619950468505,1.5180325805451547 L 48.736513222153896,1.8196750374000144 L 70.07879399182771,2.224057120935204 L 99.32021230747355,2.681917457877256 L 102.74778490419305,2.7251445130370837 L 100.6651322641148,5.864144203057416 L 100.94223244192669,9.446311237782794 L 92.6048700107245,14.235231542126138 L 91.43397582480532,16.32921740615974 L 90.50312368427066,57.385136116685786 L 90.15790822768109,72.80472111793215 L 9.13125190701868,70.89999590624716 L 9.370296072288182,62.866606053432875 z" id="c35045" />
		<path d="M 3.607143494653682,267.18046401397584 L 33.36751688580139,267.9710713926481 L 38.85914583192769,268.5779534166982 L 65.39155993885302,269.06105209006313 L 73.79235250442153,269.2221985008668 L 74.95554943955584,278.5895937923376 L 73.67464284194457,283.15119443477226 L 78.12792567895563,286.7126402836858 L 78.4691554134272,293.6706209620333 L 81.45929575346503,299.02925312267894 L 80.38989373918085,309.4490558605228 L 88.00091625547991,311.23952085951095 L 69.24844193377652,311.0471981283587 L 69.16614118029479,317.1535961685497 L 50.98556373840805,316.8825992976219 L 51.15899961192811,347.57972917820797 L 50.872822859624264,362.72657712820893 L 32.45131955394048,362.40331909016703 L 31.985147737451957,347.20363873119936 L 32.67945385918521,316.5314454817742 L 26.148398559908692,316.39468363370986 L 26.30104688090185,310.2703972585573 L 14.030702101530126,310.0067773414747 L 14.23198459800886,297.7903393366656 L 2.8085778227906726,297.4621894170386 L 3.607143494653682,267.18046401397584 z" id="c35017" />
		<path d="M 180.76155874724665,50.49070759662773 L 185.21825219027423,48.43297745560677 L 186.38974562838092,40.86968761504841 L 183.93823862187415,23.241203624860326 L 184.42323410973202,11.099984170993595 L 182.46079852300056,3.4378104343388167 L 182.95919669799244,3.434378002057848 L 198.68153995977553,3.3395081240944946 L 198.79416978653944,3.3386622907903667 L 209.08131394174006,3.269327624593407 L 215.54009360831702,3.218197391578386 L 225.00852586502978,3.144865133980943 L 226.74375942998108,3.1293163357435856 L 227.9546052162984,8.732794010793027 L 226.35524291427134,13.522364996053057 L 226.37686591199795,22.22955226502459 L 221.78361048429807,22.228206367215893 L 218.4864820313544,25.311477724003588 L 219.6049505695279,28.40142838755858 L 218.16658665138917,34.37319391926294 L 221.55327061072796,38.58523243337149 L 219.4191036758786,41.56950767686634 L 221.1243935053558,44.649944629003265 L 220.42626260081994,54.742932701100976 L 216.54944983039383,56.53771106138513 L 216.0255885593107,63.92643515555287 L 209.79682344202038,72.3139971600735 L 198.03648759072053,66.26864133079707 L 191.09800457110612,57.14783109077212 L 179.6257406708769,52.507961392277814 L 180.76155874724665,50.49070759662773 z" id="c35055" />
		<path d="M 291.6309815208616,157.8157772060376 L 291.3223660446344,132.3307081515803 L 306.5940059531642,124.93037263640863 L 319.30026098894007,124.7214105990725 L 319.028815418815,114.26372852470715 L 333.8197400728879,113.35185872726983 L 333.38169905157923,89.26245220208466 L 352.5033873926611,88.67474186905795 L 352.7607952548999,96.89345123067082 L 353.70200245298633,127.7680642157964 L 353.78376838762307,130.46817658017298 L 354.21315337311364,143.86105564339942 L 340.2472042974498,144.29040968523597 L 340.4232687025566,150.55685846088738 L 334.3138907212714,150.7036981261868 L 334.4613007267528,156.83863636751747 L 328.35200858112836,156.97764829475517 L 328.5195047841513,163.1027674786722 L 316.3238900582488,163.3499264996785 L 316.4616415643408,169.49288169700762 L 314.59893661026814,169.56348483491078 L 302.36493872717165,169.82820926617472 L 291.9040849099108,170.047547127193 L 291.6309815208616,157.8157772060376 z" id="c35037" />
		<path d="M 50.98556373840805,316.8825992976219 L 69.16614118029479,317.1535961685497 L 69.24844193377652,311.0471981283587 L 88.00091625547991,311.23952085951095 L 106.35545549401903,311.4529433028387 L 105.9624876725338,369.1445190009809 L 98.43980362768664,369.06962944278695 L 51.295122215187575,368.3910417386206 L 50.81780758699111,365.7923958289732 L 50.872822859624264,362.72657712820893 L 51.15899961192811,347.57972917820797 L 50.98556373840805,316.8825992976219 z" id="c35029" />
		<path d="M 314.59893661026814,169.56348483491078 L 316.4616415643408,169.49288169700762 L 316.3238900582488,163.3499264996785 L 328.5195047841513,163.1027674786722 L 328.35200858112836,156.97764829475517 L 334.4613007267528,156.83863636751747 L 334.3138907212714,150.7036981261868 L 340.4232687025566,150.55685846088738 L 340.2472042974498,144.29040968523597 L 354.21315337311364,143.86105564339942 L 354.67667508634895,158.39113627343218 L 354.94492410848306,167.35620788145772 L 355.42969260057,184.23734243956625 L 355.5836170995591,188.93113859710095 L 355.6068712866787,189.64090346746403 L 331.3515847098458,190.31375988708777 L 315.0140213372977,190.75434110931656 L 314.59893661026814,169.56348483491078 z" id="c35009" />
		<path d="M 91.43397582480532,16.32921740615974 L 92.6048700107245,14.235231542126138 L 100.94223244192669,9.446311237782794 L 100.6651322641148,5.864144203057416 L 102.74778490419305,2.7251445130370837 L 133.38134775070677,3.0050555664152694 L 133.80021741871926,3.5497029795939503 L 155.97961383746664,3.553524395562865 L 163.47999291225696,3.5340739466008517 L 182.46079852300056,3.4378104343388167 L 184.42323410973202,11.099984170993595 L 183.93823862187415,23.241203624860326 L 186.38974562838092,40.86968761504841 L 185.21825219027423,48.43297745560677 L 180.76155874724665,50.49070759662773 L 179.6257406708769,52.507961392277814 L 191.09800457110612,57.14783109077212 L 198.03648759072053,66.26864133079707 L 209.79682344202038,72.3139971600735 L 207.6665492742848,75.08428912305457 L 199.1323807666331,74.79005675122512 L 199.16151896192744,73.13357764105058 L 178.93672256674847,73.25992231171776 L 179.90598990823756,78.23053523849005 L 168.97723008899743,78.24460839024938 L 168.83367744185782,75.74505093311558 L 168.89053681119933,73.27904868792486 L 132.4652500918132,73.33402430274076 L 132.580163543245,58.04869413317973 L 90.50312368427066,57.385136116685786 L 91.43397582480532,16.32921740615974 z" id="c35039" />
		<path d="M 224.00648039895336,286.4712188662561 L 223.84583365009618,274.52133723136376 L 248.15263345816737,273.79367006069583 L 249.19848157498382,262.0570680824566 L 248.68336935517078,255.57633206170453 L 247.9901724199729,207.10781522526074 L 254.2399109658522,207.07378126195078 L 254.34684250863353,213.22040477781783 L 291.19574042649214,212.91237801781836 L 291.1086491969536,206.74528350211642 L 303.3584232117425,206.53380737406528 L 309.45691088874537,206.43212713786198 L 309.87616127715916,224.88576814792927 L 317.2069459436199,224.6845610099588 L 317.40381543764624,236.16068954038252 L 329.65410190338645,235.77417177513956 L 329.7945463743356,241.89636619194624 L 317.4072409642054,242.2523116088163 L 317.67052911618435,254.4839976007394 L 315.0216613569985,254.55568179835086 L 315.7353336654514,284.75989183957114 L 312.888353320975,284.83697340431166 L 252.0898527794532,286.0806757401329 L 251.911404284055,317.17026795367735 L 222.02275415652636,317.6159731642031 L 224.00648039895336,286.4712188662561 z" id="c35005" />
		<path d="M 7.055107246417303,144.18427943527453 L 7.055291264343576,144.1772168702125 L 40.3945113957439,145.0656914080332 L 40.968829540978525,121.17010335597091 L 40.97864984176129,120.64914275602999 L 83.27164418497769,121.55671063436694 L 83.31608528419233,118.52516498355955 L 89.41242235488507,118.60141633549587 L 89.34209099023994,121.69032884026302 L 107.73414681907512,121.82140538093724 L 111.792992326503,121.87598357759684 L 114.1331587829694,127.943173341136 L 121.51443638983483,146.4303504773058 L 113.63233327713917,146.33377777373434 L 113.44615424041217,172.9392210398587 L 83.06182921894919,172.61791003656094 L 6.294004304135269,170.9117568546167 L 7.055107246417303,144.18427943527453 z" id="c35006" />
	</g>
</svg>
            <table>
                <thead>
                    <th></th>
                    <th>size</th>
                    <th>diff</th>
                </thead>
                <tbody id="group-pops">

                </tbody>
            </table>
            <div id="valid-box"></div>
            <div id="best-score-box" style="font-style: italic"></div>
        </div>
        <div id='hover-text' style="width: 200px"></div>
        <ul id="sorted-list"> </ul>
    </div>

    <hr>

    <footer id="footer">
        <a href="?k=2">k = 2</a>
        <a href="?k=3">k = 3</a>
        <a href="?k=4">k = 4</a>
        <br>
        
        <a href="de.html">de</a>
        
        <a href="ri.html">ri</a>
        
        <a href="ct.html">ct</a>
        
        <a href="nh.html">nh</a>
        
        <a href="ma.html">ma</a>
        
        <a href="vt.html">vt</a>
        
        <a href="az.html">az</a>
        
        <a href="me.html">me</a>
        
        <a href="nv.html">nv</a>
        
        <a href="nj.html">nj</a>
        
        <a href="wy.html">wy</a>
        
        <a href="md.html">md</a>
        
        <a href="ut.html">ut</a>
        
        <a href="nm.html">nm</a>
        
        <a href="or.html">or</a>
        
        <a href="wa.html">wa</a>
        
        <a href="id.html">id</a>
        
        <a href="sc.html">sc</a>
        
        <a href="nd.html">nd</a>
        
        <a href="wv.html">wv</a>
        
        <a href="mt.html">mt</a>
        
        <a href="ca.html">ca</a>
        
        <a href="ny.html">ny</a>
        
        <a href="co.html">co</a>
        
        <a href="la.html">la</a>
        
        <a href="sd.html">sd</a>
        
        <a href="al.html">al</a>
        
        <a href="fl.html">fl</a>
        
        <a href="pa.html">pa</a>
        
        <a href="wi.html">wi</a>
        
        <a href="ar.html">ar</a>
        
        <a href="ok.html">ok</a>
        
        <a href="ms.html">ms</a>
        
        <a href="mi.html">mi</a>
        
        <a href="mn.html">mn</a>
        
        <a href="oh.html">oh</a>
        
        <a href="in.html">in</a>
        
        <a href="ne.html">ne</a>
        
        <a href="tn.html">tn</a>
        
        <a href="ia.html">ia</a>
        
        <a href="nc.html">nc</a>
        
        <a href="il.html">il</a>
        
        <a href="ks.html">ks</a>
        
        <a href="mo.html">mo</a>
        
        <a href="ky.html">ky</a>
        
        <a href="va.html">va</a>
        
        <a href="ga.html">ga</a>
        
        <a href="tx.html">tx</a>
        
        <br>
        <a href="../index.html">index</a>
    </footer>

</body>

<script> const STATE = 'nm'</script>
<script>const COUNTY_DATA = {"c35001":{"name":"Bernalillo","pop":676444,"adj":["c35006","c35043","c35049","c35057","c35061"]},"c35003":{"name":"Catron","pop":3579,"adj":["c04001","c04011","c35006","c35017","c35051","c35053"]},"c35005":{"name":"Chaves","pop":65157,"adj":["c35011","c35015","c35025","c35027","c35035","c35041"]},"c35006":{"name":"Cibola","pop":27172,"adj":["c04001","c35001","c35003","c35031","c35043","c35053","c35061"]},"c35007":{"name":"Colfax","pop":12387,"adj":["c08023","c08071","c35021","c35033","c35055","c35059"]},"c35009":{"name":"Curry","pop":48430,"adj":["c35037","c35041","c48017","c48117","c48369"]},"c35011":{"name":"De Baca","pop":1698,"adj":["c35005","c35019","c35027","c35037","c35041"]},"c35013":{"name":"Doña Ana","pop":219561,"adj":["c35029","c35035","c35051","c48141"]},"c35015":{"name":"Eddy","pop":62314,"adj":["c35005","c35025","c35035","c48109","c48301","c48389"]},"c35017":{"name":"Grant","pop":28185,"adj":["c04011","c35003","c35023","c35029","c35051"]},"c35019":{"name":"Guadalupe","pop":4452,"adj":["c35011","c35027","c35037","c35047","c35057"]},"c35021":{"name":"Harding","pop":657,"adj":["c35007","c35033","c35037","c35047","c35059"]},"c35023":{"name":"Hidalgo","pop":4178,"adj":["c04003","c04011","c35017","c35029"]},"c35025":{"name":"Lea","pop":74455,"adj":["c35005","c35015","c35041","c48003","c48079","c48165","c48301","c48495","c48501"]},"c35027":{"name":"Lincoln","pop":20269,"adj":["c35005","c35011","c35019","c35035","c35051","c35053","c35057"]},"c35028":{"name":"Los Alamos","pop":19419,"adj":["c35039","c35043","c35049"]},"c35029":{"name":"Luna","pop":25427,"adj":["c35013","c35017","c35023","c35051"]},"c35031":{"name":"McKinley","pop":72902,"adj":["c04001","c35006","c35043","c35045"]},"c35033":{"name":"Mora","pop":4189,"adj":["c35007","c35021","c35039","c35047","c35049","c35055"]},"c35035":{"name":"Otero","pop":67839,"adj":["c35005","c35013","c35015","c35027","c35051","c48109","c48141","c48229"]},"c35037":{"name":"Quay","pop":8746,"adj":["c35009","c35011","c35019","c35021","c35041","c35047","c35059","c48117","c48205","c48359"]},"c35039":{"name":"Rio Arriba","pop":40363,"adj":["c08007","c08021","c35028","c35033","c35043","c35045","c35049","c35055"]},"c35041":{"name":"Roosevelt","pop":19191,"adj":["c35005","c35009","c35011","c35025","c35037","c48017","c48079"]},"c35043":{"name":"Sandoval","pop":148834,"adj":["c35001","c35006","c35028","c35031","c35039","c35045","c35049"]},"c35045":{"name":"San Juan","pop":121661,"adj":["c04001","c08007","c08067","c08083","c35031","c35039","c35043","c49037"]},"c35047":{"name":"San Miguel","pop":27201,"adj":["c35019","c35021","c35033","c35037","c35049","c35057"]},"c35049":{"name":"Santa Fe","pop":154823,"adj":["c35001","c35028","c35033","c35039","c35043","c35047","c35057"]},"c35051":{"name":"Sierra","pop":11576,"adj":["c35003","c35013","c35017","c35027","c35029","c35035","c35053"]},"c35053":{"name":"Socorro","pop":16595,"adj":["c35003","c35006","c35027","c35051","c35057","c35061"]},"c35055":{"name":"Taos","pop":34489,"adj":["c08021","c08023","c35007","c35033","c35039"]},"c35057":{"name":"Torrance","pop":15045,"adj":["c35001","c35019","c35027","c35047","c35049","c35053","c35061"]},"c35059":{"name":"Union","pop":4079,"adj":["c08009","c08071","c35007","c35021","c35037","c40025","c48111","c48205"]},"c35061":{"name":"Valencia","pop":76205,"adj":["c35001","c35006","c35053","c35057"]}}; </script>
<script>const COLORS = ['darkgreen', 'blue', 'darkorange', 'purple', 'red', 'brown'];
const N_GROUPS = Number.parseInt(new URLSearchParams(document.location.search).get('k')) || 4;

const FMT = {
    human: (v) => new Intl.NumberFormat('en', { notation: 'compact' }).format(v),
    long: (v) => new Intl.NumberFormat('fr-FR').format(v),
}


function isValid() {
    const group_ixs = Array(N_GROUPS).fill(0).map((v, ix) => ix);

    const bad_groups = group_ixs.filter(ix => !isGroupConnected(ix));
    
    return [bad_groups.length === 0, bad_groups];
}

function isGroupConnected(grp) {
    const seen = {};
    function dfs(u) {
        seen[u] = true;
        const adj = COUNTY_DATA[u].adj.filter(v => GROUPS[v] === grp && !seen[v] && COUNTY_DATA[v]);
        adj.forEach(dfs);
    }
    const inGroup = Object.keys(GROUPS).filter(k => GROUPS[k] === grp);
    if (inGroup.length === 0) { return false; }
    dfs(inGroup[0]);

    return inGroup.sort().join(';') === Object.keys(seen).sort().join(';')
}


const makeToggle = (cid) => () => {
    toggleGroup(cid);
    updateDisplay([cid]);
}

function toggleGroup(cid) {
    const old_grp = GROUPS[cid];
    const new_grp = (old_grp+1) % N_GROUPS;
    GROUPS[cid] = new_grp;
}

const onMouseOver = function() {
    const el = document.getElementById('hover-text');
    const {name, pop} = COUNTY_DATA[this.id];

    el.textContent = `${name}\n${FMT.long(pop)}`;
}

function updateDisplay(cids) {
    cids.forEach(cid => {
        const grp = GROUPS[cid];
        const color = COLORS[grp]

        document.getElementById('list-'+cid).style.color = color;
        document.getElementById(cid).style.fill = color;
    });

    const rslt = sumGroups();
    Object.entries(rslt).forEach(([group, pop]) => {
        const row = [FMT.human(pop), FMT.long(pop), FMT.long(Math.floor(pop - TOTAL / N_GROUPS))];
        //textContent = FMT.human(pop) + "\t" + FMT.long(pop) + "\t" + Math.floor(pop - TOTAL / N_GROUPS);
        document.getElementById(`pop-${group}`).innerHTML =  row.map(v => `<td>${v}</td>`).join('')
    });

    const lsKey = `${STATE}-${N_GROUPS}`;
    const score = Math.floor(TOTAL/N_GROUPS - Math.min(...Object.values(rslt)));
    let bestScore = localStorage.getItem(lsKey) || '';
    const [valid, badGroups] = isValid();
    document.getElementById('score-box').innerHTML = `score: <b>${FMT.long(score)}</b>`;
    if (valid) {
        document.getElementById('valid-box').textContent = '✅ valid';
    } else {
        document.getElementById('valid-box').textContent = `❌ group ${badGroups[0]} not connected`
    }
    if (valid && Number(bestScore || TOTAL) > score) {
        bestScore = score;
        localStorage.setItem(lsKey, score);
        localStorage.setItem(lsKey+'-groups', JSON.stringify(friendlyGroups()));
    }

    document.getElementById('best-score-box').textContent = 'best: ' + FMT.long(bestScore);
}

function sumGroups() {
    const rslt = Object.fromEntries(Array(N_GROUPS).fill(0).map((v, ix) => [ix, 0]));
    Object.entries(GROUPS).forEach(([id, group]) => {
        const pop = COUNTY_DATA[id].pop;
        rslt[group] += pop;
    });

    return rslt;
}

function friendlyGroups() {
    const rslt = Object.fromEntries(Array(N_GROUPS).fill(0).map((v, ix) => [ix, []]));
    Object.entries(GROUPS).forEach(([id, grp]) => {
        rslt[grp].push(COUNTY_DATA[id].name);
    });
    return rslt;
}

function setup() {
    const county_els = Array.from(document.getElementsByTagName('path'));
    const county_ids = county_els.map(e => e.id);

    // map handlers
    county_els.forEach(path_el => {
        path_el.onmouseover = onMouseOver.bind(path_el);
        path_el.onclick = makeToggle(path_el.id);
    });

    // sorted list
    const sorted_counties = county_ids.map(cid => ({...COUNTY_DATA[cid], id: cid}));

    sorted_counties.sort((a,b) => b.pop - a.pop);
    //sorted_counties.sort((a,b) => b.name > a.name ? -1 : 1);

    const list_el = document.getElementById('sorted-list');
    sorted_counties.forEach(({id, name, pop}) => {
        const li = document.createElement("li");
        li.id = 'list-'+id;
        li.onclick = makeToggle(id);
        li.appendChild(document.createTextNode(name + ": " + FMT.long(pop)));
        list_el.appendChild(li) 

        li.onmouseover = () => {
            document.getElementById(id).style.stroke= 'red';
        }
        li.onmouseleave = () => {
            document.getElementById(id).style.stroke= null;
        }
    });

    const groups_el = document.getElementById('group-pops');
    for (let ix = 0; ix < N_GROUPS; ++ix) {
        const el = document.createElement("tr");
        el.id = 'pop-'+ix;
        el.style.color = COLORS[ix];
        groups_el.appendChild(el);
    }

    const total_pop = sorted_counties.reduce((acc, r) => acc + r.pop, 0);
    const groups = Object.fromEntries(county_ids.map(id => [id, 0]));

    return [groups, total_pop];
};

const [GROUPS, TOTAL] = setup();
updateDisplay(Object.keys(GROUPS)); </script>

</html>