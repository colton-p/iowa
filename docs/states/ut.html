<html>

<head>
    <link rel="stylesheet" href="https://cdn.simplecss.org/simple.min.css">
    <style>
    @media (prefers-color-scheme: dark) {
        :root,
        ::backdrop {
            color-scheme: light;
            --bg: #fff;
            --accent-bg: #f5f7ff;
            --text: #212121;
            --text-light: #585858;
            --border: #898EA4;
            --accent: #0d47a1;
            --accent-hover: #1266e2;
            --accent-text: var(--bg);
            --code: #d81b60;
            --preformatted: #444;
            --marked: #ffdd33;
            --disabled: #efefef;
        }
    }
    </style>
</head>

<body>
    <p id="score-box"></p>
    <div style="display: flex">
        <div>
            <?xml version="1.0" encoding="utf-8" ?>
<svg baseProfile="full" fill="#d0d0d0" height="400.0" stroke="#ffffff" stroke-width="1" version="1.1" width="320.27838853776416" xmlns="http://www.w3.org/2000/svg" xmlns:ev="http://www.w3.org/2001/xml-events" xmlns:xlink="http://www.w3.org/1999/xlink">
	<defs />
	<g id="counties"><path d="M 1.2960754179833796,349.43818399172955 L 30.764368988702323,350.2383341880069 L 37.97575714136827,349.3159501402064 L 37.84309333382574,356.42810391586454 L 51.8556218391849,356.73681457458673 L 51.770764984537955,360.4693132583361 L 65.51295765895836,361.3431553888098 L 65.54606657810169,359.3278567922655 L 74.19221479570417,359.4522648575243 L 73.66488811622624,399.3102943323769 L 69.35975791883016,399.24586274770905 L 5.416841876367906,397.81427776067716 L 0.0,397.6282646156718 L 0.13273510869668134,390.6050879035946 L 0.5776538369119263,374.9698795910671 L 1.0174369742104543,358.42598877238424 L 1.2960754179833796,349.43818399172955 z" id="c49053" />
		<path d="M 99.68868660689502,274.28172868262567 L 104.0284817513289,265.6910905174214 L 112.61562173110937,266.17473525007017 L 118.369959625736,262.1561211870666 L 118.08024539181055,251.2032929597194 L 123.77791697887803,243.71930755357943 L 128.05082112293843,243.74878737919082 L 131.26840560590375,236.90053326645025 L 141.25208766906542,237.94883301939169 L 175.66853206604657,238.03641904203005 L 175.3698214072138,279.63338413233953 L 147.40452928911992,279.62755897439246 L 146.52181188725936,280.25299802033976 L 124.67436077046857,279.3653789488085 L 99.43641866138988,279.25384852270446 L 99.68868660689502,274.28172868262567 z" id="c49041" />
		<path d="M 99.43641866138988,279.25384852270446 L 124.67436077046857,279.3653789488085 L 146.52181188725936,280.25299802033976 L 141.33947242300292,286.39524972727054 L 141.60099851703023,308.20552547591393 L 134.7930327214219,308.59659682534067 L 103.77473559915245,308.02725384660283 L 109.3188500265613,302.1101910814574 L 110.76075131123282,293.51022765896676 L 99.43641866138988,279.25384852270446 z" id="c49031" />
		<path d="M 3.707583525240011,272.30192432355153 L 22.425926343468078,272.7248633844032 L 70.83383846467508,273.9010055450838 L 99.68868660689502,274.28172868262567 L 99.43641866138988,279.25384852270446 L 110.76075131123282,293.51022765896676 L 109.3188500265613,302.1101910814574 L 103.77473559915245,308.02725384660283 L 101.60325507511186,308.20903555955493 L 39.1345694971359,307.0492487248324 L 2.7313555661847606,306.09418823721643 L 2.9532572233303673,298.0317189231758 L 3.3158493622320964,285.7183074129528 L 3.707430724933194,272.3063211507547 L 3.707583525240011,272.30192432355153 z" id="c49001" />
		<path d="M 103.33726696673929,74.8809320183199 L 118.90486228500626,54.35756528428953 L 131.4721479156451,54.45235221339762 L 135.4151109929413,52.17953620333307 L 135.73749758565305,46.723178350673514 L 140.10029348305167,47.341549225989816 L 147.56982076382798,51.95278804953076 L 153.2188483742272,47.18763336684694 L 162.55285635887037,47.6534703865995 L 164.54492072491175,50.73933747515402 L 167.9586055807086,52.57210954858147 L 163.37196474500294,63.277166047918264 L 157.3890262188444,62.34638083661926 L 152.4927992554291,66.90512211172087 L 145.17530902460413,64.02064836478769 L 140.78073694580883,66.32412240693832 L 141.75640975836563,70.22658780225363 L 121.87258731722449,68.9967925221729 L 105.8706395817975,74.0774183633582 L 103.33726696673929,74.8809320183199 z" id="c49057" />
		<path d="M 158.64096980603296,122.23094002920949 L 157.49882468209455,115.02026649167007 L 159.97005618794515,112.45458587612356 L 163.82199975721966,113.2503098208285 L 169.61279935699255,105.97845992582424 L 171.17290164948722,110.88636971051524 L 184.37947045806575,117.26731563303835 L 186.21684012113116,113.90684134516457 L 195.0043592726395,113.66234585210995 L 199.45622995588388,106.84850394797867 L 200.5157775082303,168.83569303139302 L 188.8128561248357,168.86487738016953 L 188.7592405965787,165.43736603233447 L 181.20949371988473,157.17274526305957 L 178.54136977565022,156.55606919944847 L 179.9715285989534,147.62440002328904 L 176.69960456053167,140.34995718039042 L 174.49432685061493,138.06391004863892 L 167.68576688062453,138.1266003157906 L 164.4002653519811,132.13519299222045 L 159.83808326386477,132.0922945308117 L 156.05321722648293,126.09070644771505 L 158.64096980603296,122.23094002920949 z" id="c49051" />
		<path d="M 7.501947764564188,150.89809851175792 L 7.547176597964491,149.38259191041104 L 8.215516189434672,126.98639199186147 L 8.479463809952527,119.22793920936087 L 9.142508167837475,100.88588336468383 L 9.862128070605133,79.11084199741357 L 84.81791080161022,80.76454584826321 L 103.33726696673929,74.8809320183199 L 117.18010917402626,99.53126453756073 L 120.67516961473281,104.55265858426088 L 120.9545983472209,110.6915727993481 L 122.21627955261705,112.72088658751555 L 122.28206535918967,123.62413333938945 L 119.88128143782767,124.2381470719747 L 122.03839630735125,134.07212626840953 L 121.7203832734359,142.31933060047967 L 123.6921515718822,146.6682571297576 L 121.57643788441881,159.88426808200765 L 116.00929558856052,165.62814345224487 L 112.19402945262614,164.4906215373385 L 111.56276625999394,168.33355166354914 L 55.97176942742351,167.48448683043662 L 7.000361603650954,166.16352407008145 L 7.501947764564188,150.89809851175792 z" id="c49045" />
		<path d="M 74.23736616515876,355.9863770640275 L 88.0409842116496,356.175270946214 L 107.20407847887684,356.4687641577982 L 141.41003401610644,357.2780035691072 L 179.03182688293833,356.961009001131 L 217.4046598931648,356.6306496519848 L 215.83363701295238,361.71576920162727 L 211.14127978146217,363.7363776384858 L 214.1329977164491,365.46422960123647 L 211.84612988305395,372.3041782650538 L 209.20548174929147,374.0975063534781 L 203.33016989912147,372.0934039510743 L 205.43611018107308,376.0179723009167 L 203.11731111698015,377.01629285425054 L 201.53333436726248,385.86917544846614 L 197.80468511024262,390.01935066921925 L 191.46918578155467,392.053147559876 L 183.7564112641674,391.8303197946796 L 179.35714583559587,398.30800929606227 L 177.98780559384983,395.71114498391984 L 175.0488574262257,399.0745200369534 L 168.78385957409685,399.9344996937299 L 108.31594870224536,399.70254567852805 L 96.74097297031166,399.5986574101661 L 96.32355509170047,399.594460831299 L 78.12420210586569,399.373518262618 L 73.66488811622624,399.3102943323769 L 74.19221479570417,359.4522648575243 L 74.23736616515876,355.9863770640275 z" id="c49025" />
		<path d="M 200.0347999351435,102.94571854862374 L 204.2553119369499,104.24130052520442 L 208.57684775853255,101.23996822463018 L 214.29009823253384,101.77934809753349 L 216.1287136147895,99.43623409449339 L 220.03434763252082,100.27989166289281 L 231.0490589353304,97.85469835907409 L 236.21882514545393,94.1092179073946 L 245.61259826763876,95.75658393397671 L 253.90285703404916,95.39987188064215 L 255.37886700857044,95.69212091651049 L 256.7545215713182,175.58630270878427 L 202.64431848407597,175.69865596191212 L 202.60161180282074,168.81646134538087 L 200.5157775082303,168.83569303139302 L 199.45622995588388,106.84850394797867 L 200.0347999351435,102.94571854862374 z" id="c49013" />
		<path d="M 7.000361603650954,166.16352407008145 L 55.97176942742351,167.48448683043662 L 111.56276625999394,168.33355166354914 L 112.19402945262614,164.4906215373385 L 116.00929558856052,165.62814345224487 L 121.57643788441881,159.88426808200765 L 129.23381061959134,169.3342878049292 L 126.96049290854843,178.21859305982605 L 134.36757536153536,176.2584329190665 L 138.08579038563227,169.311915353486 L 143.26488145253967,165.1031641462012 L 144.13136111660444,165.74007352621274 L 148.6011043584798,171.77768351818975 L 146.84554176776427,176.01588469536716 L 154.48496408151436,175.87041520667853 L 157.9887094765474,178.15532669243137 L 157.99167445386328,181.66689699766292 L 149.8221759315728,185.28272759087318 L 150.03836350431092,203.94088883277345 L 147.91923849013742,207.3866847904122 L 147.93280565509448,210.11148000109188 L 137.0943844673087,210.16204423841037 L 131.27639604840462,215.46959571538176 L 120.587108505427,214.21416667243707 L 119.30337111487279,196.31504654238734 L 110.52275660253922,196.26003187972515 L 103.8664450721773,196.28864779298215 L 44.443648323090315,195.29963974074826 L 20.444233146679053,194.69954295231432 L 18.94445846078696,195.36086956709622 L 6.157569825695448,195.0884916880693 L 6.707471102282393,175.07311114970275 L 7.000361603650954,166.16352407008145 z" id="c49023" />
		<path d="M 141.33947242300292,286.39524972727054 L 146.52181188725936,280.25299802033976 L 147.40452928911992,279.62755897439246 L 175.3698214072138,279.63338413233953 L 177.01976992929457,280.4415089213484 L 255.5362467957544,279.6753627665296 L 254.40096404920484,283.46871930954 L 256.3639615618111,290.45076453804995 L 261.6959960289072,296.761566087012 L 264.6429762148207,304.20368311626373 L 262.13668245127957,307.30513500734224 L 214.34556683325792,308.0006885147869 L 154.69342895387186,308.3366528323434 L 141.60099851703023,308.20552547591393 L 141.33947242300292,286.39524972727054 z" id="c49055" />
		<path d="M 168.78385957409685,399.9344996937299 L 175.0488574262257,399.0745200369534 L 177.98780559384983,395.71114498391984 L 179.35714583559587,398.30800929606227 L 183.7564112641674,391.8303197946796 L 191.46918578155467,392.053147559876 L 197.80468511024262,390.01935066921925 L 201.53333436726248,385.86917544846614 L 203.11731111698015,377.01629285425054 L 205.43611018107308,376.0179723009167 L 203.33016989912147,372.0934039510743 L 209.20548174929147,374.0975063534781 L 211.84612988305395,372.3041782650538 L 214.1329977164491,365.46422960123647 L 211.14127978146217,363.7363776384858 L 215.83363701295238,361.71576920162727 L 217.4046598931648,356.6306496519848 L 222.61154046056404,348.8617179864008 L 226.4989632590712,347.8465293113269 L 227.3796231628623,343.5658486896204 L 231.03076723852507,337.5073908556339 L 228.24522872322504,335.1875080720015 L 230.40678534743301,335.287877348919 L 232.41599167884897,329.44243256440325 L 244.38438193040298,328.27136774993807 L 245.11397309816985,323.95677138064633 L 249.18681580943507,319.2026450101909 L 252.93335704816948,319.66229945356645 L 257.06578893175134,310.76081285838404 L 262.13668245127957,307.30513500734224 L 264.6429762148207,304.20368311626373 L 261.6959960289072,296.761566087012 L 256.3639615618111,290.45076453804995 L 254.40096404920484,283.46871930954 L 255.5362467957544,279.6753627665296 L 315.97565716301864,278.3132766712046 L 316.47166832984277,296.19675971369617 L 317.87068975622884,304.99149484159784 L 317.89479372670064,305.92034344422666 L 318.45694177774413,327.5906504846848 L 319.27559983304945,359.1762051140471 L 320.27838853776416,397.9094925123183 L 291.4821534145814,398.64687396955037 L 259.15050195347044,399.3895637292132 L 229.1060995676131,399.82450272695826 L 211.15221794133393,399.593383955577 L 190.94378426863204,399.7953919380821 L 177.39113418184075,400.0 L 169.22637774057284,399.9337736167253 L 168.78385957409685,399.9344996937299 z" id="c49037" />
		<path d="M 1.673865612138125,338.1841691999169 L 2.12148301387892,327.4001504356924 L 2.7310002997424068,306.10709755757995 L 2.7313555661847606,306.09418823721643 L 39.1345694971359,307.0492487248324 L 101.60325507511186,308.20903555955493 L 102.0360945609928,328.6975902047723 L 94.44098225047264,328.6109781784948 L 94.97838605032852,335.4650741274127 L 87.97940494971296,335.29002216172137 L 88.0409842116496,356.175270946214 L 74.23736616515876,355.9863770640275 L 74.19221479570417,359.4522648575243 L 65.54606657810169,359.3278567922655 L 65.51295765895836,361.3431553888098 L 51.770764984537955,360.4693132583361 L 51.8556218391849,356.73681457458673 L 37.84309333382574,356.42810391586454 L 37.97575714136827,349.3159501402064 L 30.764368988702323,350.2383341880069 L 1.2960754179833796,349.43818399172955 L 1.673865612138125,338.1841691999169 z" id="c49021" />
		<path d="M 126.98838285263469,1.7726418113969296 L 126.99366745216345,1.77264467506145 L 148.30335403968982,1.74020177600613 L 162.73836170569808,1.7333512016617987 L 162.73876805101406,1.7333504407233247 L 162.5190857130522,9.296028319687036 L 169.08125361403867,29.255494362578496 L 162.55285635887037,47.6534703865995 L 153.2188483742272,47.18763336684694 L 147.56982076382798,51.95278804953076 L 140.10029348305167,47.341549225989816 L 140.8543862874105,42.662226905090144 L 136.51716931055637,37.2379672587119 L 134.4179378721789,38.73289010172165 L 130.8106936425584,24.66975943287137 L 132.87931552117442,17.9409176112429 L 124.03950378838854,1.664777709867365 L 126.98838285263469,1.7726418113969296 z" id="c49005" />
		<path d="M 3.996395591020104,263.98942518662244 L 4.55299479260057,247.95862085657825 L 4.783955753722293,237.85837576592547 L 6.063978704718619,198.4960286856387 L 6.157569825695448,195.0884916880693 L 18.94445846078696,195.36086956709622 L 20.444233146679053,194.69954295231432 L 44.443648323090315,195.29963974074826 L 103.8664450721773,196.28864779298215 L 110.52275660253922,196.26003187972515 L 119.30337111487279,196.31504654238734 L 120.587108505427,214.21416667243707 L 131.27639604840462,215.46959571538176 L 131.26840560590375,236.90053326645025 L 128.05082112293843,243.74878737919082 L 123.77791697887803,243.71930755357943 L 118.08024539181055,251.2032929597194 L 118.369959625736,262.1561211870666 L 112.61562173110937,266.17473525007017 L 104.0284817513289,265.6910905174214 L 99.68868660689502,274.28172868262567 L 70.83383846467508,273.9010055450838 L 22.425926343468078,272.7248633844032 L 3.707583525240011,272.30192432355153 L 3.996395591020104,263.98942518662244 z" id="c49027" />
		<path d="M 117.18010917402626,99.53126453756073 L 132.60642305982404,87.47989722538144 L 135.49913857355864,87.49787449064343 L 136.20614576122503,95.46707856096636 L 148.76925172884808,92.3945010392324 L 153.28652021614204,93.26527857892948 L 154.6672023282539,97.35017983825725 L 154.1749647782656,99.37845012801392 L 156.76651841990588,104.20669970369306 L 156.87175491088723,107.89624318412797 L 159.97005618794515,112.45458587612356 L 157.49882468209455,115.02026649167007 L 156.75518704798307,116.01022612844957 L 138.06101991806543,124.88073271123568 L 138.0396375440563,124.88724022905579 L 133.85768318579355,127.90938013555925 L 122.28206535918967,123.62413333938945 L 122.21627955261705,112.72088658751555 L 120.9545983472209,110.6915727993481 L 120.67516961473281,104.55265858426088 L 117.18010917402626,99.53126453756073 z" id="c49035" />
		<path d="M 247.80398901424485,245.98791314980406 L 247.1192294102542,241.57903121522114 L 252.1710264082485,241.56273508412062 L 256.2601055929134,243.81015734454235 L 253.88853616145374,240.37628379468597 L 250.4692275932991,241.0109525526386 L 246.68922669326196,237.37420731488476 L 250.08546265281234,229.06518095687855 L 250.05728334496632,224.82478286204926 L 252.74493663936107,221.69184279324364 L 251.27677450488866,217.92521988017333 L 255.21080713318088,206.67073836370727 L 254.30522857838085,202.4685415339362 L 254.31479679195542,202.46845865707013 L 258.6837657165854,202.98726826582174 L 310.9228858335719,201.7886886986602 L 314.29272291506055,198.84557363257906 L 314.57716419599143,209.2802962064395 L 315.09924095243696,228.4362251041155 L 315.97565716301864,278.3132766712046 L 255.5362467957544,279.6753627665296 L 257.4471396775612,277.47989243960075 L 253.39096682013735,273.0363122315778 L 254.6467311452273,267.5509090752584 L 252.50846707329782,267.27054594978773 L 249.76079526190668,261.3087905793114 L 251.54892754680554,259.6622997004353 L 245.41035840937198,247.38519528368653 L 247.80398901424485,245.98791314980406 z" id="c49019" />
		<path d="M 140.78073694580883,66.32412240693832 L 145.17530902460413,64.02064836478769 L 152.4927992554291,66.90512211172087 L 157.3890262188444,62.34638083661926 L 163.37196474500294,63.277166047918264 L 167.9586055807086,52.57210954858147 L 173.2859387725496,52.87000376369288 L 177.5076729498895,57.701136588332666 L 176.35125875315345,63.41471001844813 L 179.93231671318037,64.18892634788483 L 177.3501107438643,69.8563682101576 L 171.23413896363033,70.98623669190515 L 170.40505576029884,74.39324135938445 L 162.74992023590514,76.31041380327336 L 157.59261261539126,81.8989493629149 L 161.69963308118014,85.02105246939493 L 164.4386039991638,92.62997650884837 L 161.4718432121486,98.4542604214431 L 154.6672023282539,97.35017983825725 L 153.28652021614204,93.26527857892948 L 148.76925172884808,92.3945010392324 L 144.1629765961681,84.67807217888837 L 146.5996991515364,84.55910255101058 L 145.00403499789647,81.90524394288828 L 142.80389950694334,79.47615073001165 L 141.75640975836563,70.22658780225363 L 140.78073694580883,66.32412240693832 z" id="c49029" />
		<path d="M 131.27639604840462,215.46959571538176 L 137.0943844673087,210.16204423841037 L 147.93280565509448,210.11148000109188 L 147.91923849013742,207.3866847904122 L 150.03836350431092,203.94088883277345 L 149.8221759315728,185.28272759087318 L 157.99167445386328,181.66689699766292 L 157.9887094765474,178.15532669243137 L 154.48496408151436,175.87041520667853 L 178.7101921693538,175.84234186241247 L 178.74180065537766,184.49721362897293 L 178.7746676126156,203.38448377071438 L 175.50037704025203,206.94514366905813 L 175.66853206604657,238.03641904203005 L 141.25208766906542,237.94883301939169 L 131.26840560590375,236.90053326645025 L 131.27639604840462,215.46959571538176 z" id="c49039" />
		<path d="M 253.3208600719984,194.72688758344057 L 257.7687326608918,181.96795287609092 L 262.5108799679383,175.48180731251668 L 256.7545215713182,175.58630270878427 L 255.37886700857044,95.69212091651049 L 261.8713231173219,99.22642305393344 L 282.62399482780853,93.81487270991983 L 285.27188104395333,100.59897240326067 L 290.6155864561414,96.44190789521609 L 290.48449770523683,91.0977379225235 L 302.04229863007794,90.78619249661645 L 304.60426395477674,96.48868800283032 L 304.9660555915325,104.61496619190578 L 311.8489709972663,106.11515629872149 L 311.86984181526515,106.83157148812332 L 312.6864095149472,141.1379891771822 L 312.76552298555106,144.46615086693555 L 313.4738810494331,168.81401592219632 L 313.93951104005805,185.88990673295714 L 314.29272291506055,198.84557363257906 L 310.9228858335719,201.7886886986602 L 258.6837657165854,202.98726826582174 L 254.31479679195542,202.46845865707013 L 253.3208600719984,194.72688758344057 z" id="c49047" />
		<path d="M 253.65007421611105,80.77045457214132 L 270.8584064025934,80.38428913157165 L 298.8785500244797,79.50935098648502 L 310.9800409580323,79.20994003549599 L 311.46993097791835,93.10310505594784 L 311.8489709972663,106.11515629872149 L 304.9660555915325,104.61496619190578 L 304.60426395477674,96.48868800283032 L 302.04229863007794,90.78619249661645 L 290.48449770523683,91.0977379225235 L 290.6155864561414,96.44190789521609 L 285.27188104395333,100.59897240326067 L 282.62399482780853,93.81487270991983 L 261.8713231173219,99.22642305393344 L 255.37886700857044,95.69212091651049 L 253.90285703404916,95.39987188064215 L 253.65007421611105,80.77045457214132 z" id="c49009" />
		<path d="M 105.8706395817975,74.0774183633582 L 121.87258731722449,68.9967925221729 L 141.75640975836563,70.22658780225363 L 142.80389950694334,79.47615073001165 L 145.00403499789647,81.90524394288828 L 146.5996991515364,84.55910255101058 L 144.1629765961681,84.67807217888837 L 148.76925172884808,92.3945010392324 L 136.20614576122503,95.46707856096636 L 135.49913857355864,87.49787449064343 L 132.60642305982404,87.47989722538144 L 117.18010917402626,99.53126453756073 L 103.33726696673929,74.8809320183199 L 105.8706395817975,74.0774183633582 z" id="c49011" />
		<path d="M 87.97940494971296,335.29002216172137 L 94.97838605032852,335.4650741274127 L 94.44098225047264,328.6109781784948 L 102.0360945609928,328.6975902047723 L 101.60325507511186,308.20903555955493 L 103.77473559915245,308.02725384660283 L 134.7930327214219,308.59659682534067 L 141.60099851703023,308.20552547591393 L 154.69342895387186,308.3366528323434 L 214.34556683325792,308.0006885147869 L 262.13668245127957,307.30513500734224 L 257.06578893175134,310.76081285838404 L 252.93335704816948,319.66229945356645 L 249.18681580943507,319.2026450101909 L 245.11397309816985,323.95677138064633 L 244.38438193040298,328.27136774993807 L 232.41599167884897,329.44243256440325 L 230.40678534743301,335.287877348919 L 228.24522872322504,335.1875080720015 L 231.03076723852507,337.5073908556339 L 227.3796231628623,343.5658486896204 L 226.4989632590712,347.8465293113269 L 222.61154046056404,348.8617179864008 L 217.4046598931648,356.6306496519848 L 179.03182688293833,356.961009001131 L 141.41003401610644,357.2780035691072 L 107.20407847887684,356.4687641577982 L 88.0409842116496,356.175270946214 L 87.97940494971296,335.29002216172137 z" id="c49017" />
		<path d="M 154.6672023282539,97.35017983825725 L 161.4718432121486,98.4542604214431 L 164.4386039991638,92.62997650884837 L 161.69963308118014,85.02105246939493 L 157.59261261539126,81.8989493629149 L 162.74992023590514,76.31041380327336 L 170.40505576029884,74.39324135938445 L 171.23413896363033,70.98623669190515 L 177.3501107438643,69.8563682101576 L 179.28568277424827,69.94338610396349 L 190.44828227356848,61.237435181323654 L 190.5484800059491,81.4369407145701 L 221.13020139260252,81.31666057115811 L 246.35622384750636,80.91707621320654 L 250.76891352059053,80.82958522942265 L 253.65007421611105,80.77045457214132 L 253.90285703404916,95.39987188064215 L 245.61259826763876,95.75658393397671 L 236.21882514545393,94.1092179073946 L 231.0490589353304,97.85469835907409 L 220.03434763252082,100.27989166289281 L 216.1287136147895,99.43623409449339 L 214.29009823253384,101.77934809753349 L 208.57684775853255,101.23996822463018 L 204.2553119369499,104.24130052520442 L 200.0347999351435,102.94571854862374 L 199.45622995588388,106.84850394797867 L 195.0043592726395,113.66234585210995 L 186.21684012113116,113.90684134516457 L 184.37947045806575,117.26731563303835 L 171.17290164948722,110.88636971051524 L 169.61279935699255,105.97845992582424 L 163.82199975721966,113.2503098208285 L 159.97005618794515,112.45458587612356 L 156.87175491088723,107.89624318412797 L 156.76651841990588,104.20669970369306 L 154.1749647782656,99.37845012801392 L 154.6672023282539,97.35017983825725 z" id="c49043" />
		<path d="M 9.862205420687749,79.10850034141905 L 10.388240302571974,62.567532821362185 L 11.122225938553681,39.96828331692776 L 11.751977674374977,19.105087859402268 L 12.202254909031995,0.0 L 25.481246821568014,0.780966257764085 L 44.58311983747012,0.8788205647569879 L 59.28357958686035,0.9648267122037562 L 74.038733574062,1.0798645336015358 L 74.08512624097936,1.0802982275305084 L 94.99949528317212,1.233350804319182 L 117.7579481656728,1.4293814418154425 L 124.03950378838854,1.664777709867365 L 132.87931552117442,17.9409176112429 L 130.8106936425584,24.66975943287137 L 134.4179378721789,38.73289010172165 L 136.51716931055637,37.2379672587119 L 140.8543862874105,42.662226905090144 L 140.10029348305167,47.341549225989816 L 135.73749758565305,46.723178350673514 L 135.4151109929413,52.17953620333307 L 131.4721479156451,54.45235221339762 L 118.90486228500626,54.35756528428953 L 103.33726696673929,74.8809320183199 L 84.81791080161022,80.76454584826321 L 9.862128070605133,79.11084199741357 L 9.862205420687749,79.10850034141905 z" id="c49003" />
		<path d="M 178.7101921693538,175.84234186241247 L 202.64431848407597,175.69865596191212 L 256.7545215713182,175.58630270878427 L 262.5108799679383,175.48180731251668 L 257.7687326608918,181.96795287609092 L 253.3208600719984,194.72688758344057 L 254.31479679195542,202.46845865707013 L 254.30522857838085,202.4685415339362 L 189.28065568890443,203.1410769691134 L 189.04770258499212,203.32443568769645 L 188.77924078957125,199.01951446908149 L 185.863137177964,191.68408175795912 L 184.2060689513442,193.11190188803735 L 178.74180065537766,184.49721362897293 L 178.7101921693538,175.84234186241247 z" id="c49007" />
		<path d="M 175.66853206604657,238.03641904203005 L 175.50037704025203,206.94514366905813 L 178.7746676126156,203.38448377071438 L 178.74180065537766,184.49721362897293 L 184.2060689513442,193.11190188803735 L 185.863137177964,191.68408175795912 L 188.77924078957125,199.01951446908149 L 189.04770258499212,203.32443568769645 L 189.28065568890443,203.1410769691134 L 254.30522857838085,202.4685415339362 L 255.21080713318088,206.67073836370727 L 251.27677450488866,217.92521988017333 L 252.74493663936107,221.69184279324364 L 250.05728334496632,224.82478286204926 L 250.08546265281234,229.06518095687855 L 246.68922669326196,237.37420731488476 L 250.4692275932991,241.0109525526386 L 253.88853616145374,240.37628379468597 L 256.2601055929134,243.81015734454235 L 252.1710264082485,241.56273508412062 L 247.1192294102542,241.57903121522114 L 247.80398901424485,245.98791314980406 L 245.41035840937198,247.38519528368653 L 251.54892754680554,259.6622997004353 L 249.76079526190668,261.3087905793114 L 252.50846707329782,267.27054594978773 L 254.6467311452273,267.5509090752584 L 253.39096682013735,273.0363122315778 L 257.4471396775612,277.47989243960075 L 255.5362467957544,279.6753627665296 L 177.01976992929457,280.4415089213484 L 175.3698214072138,279.63338413233953 L 175.66853206604657,238.03641904203005 z" id="c49015" />
		<path d="M 119.88128143782767,124.2381470719747 L 122.28206535918967,123.62413333938945 L 133.85768318579355,127.90938013555925 L 138.0396375440563,124.88724022905579 L 138.06101991806543,124.88073271123568 L 156.75518704798307,116.01022612844957 L 157.49882468209455,115.02026649167007 L 158.64096980603296,122.23094002920949 L 156.05321722648293,126.09070644771505 L 159.83808326386477,132.0922945308117 L 164.4002653519811,132.13519299222045 L 167.68576688062453,138.1266003157906 L 174.49432685061493,138.06391004863892 L 176.69960456053167,140.34995718039042 L 179.9715285989534,147.62440002328904 L 178.54136977565022,156.55606919944847 L 181.20949371988473,157.17274526305957 L 188.7592405965787,165.43736603233447 L 188.8128561248357,168.86487738016953 L 200.5157775082303,168.83569303139302 L 202.60161180282074,168.81646134538087 L 202.64431848407597,175.69865596191212 L 178.7101921693538,175.84234186241247 L 154.48496408151436,175.87041520667853 L 146.84554176776427,176.01588469536716 L 148.6011043584798,171.77768351818975 L 144.13136111660444,165.74007352621274 L 143.26488145253967,165.1031641462012 L 138.08579038563227,169.311915353486 L 134.36757536153536,176.2584329190665 L 126.96049290854843,178.21859305982605 L 129.23381061959134,169.3342878049292 L 121.57643788441881,159.88426808200765 L 123.6921515718822,146.6682571297576 L 121.7203832734359,142.31933060047967 L 122.03839630735125,134.07212626840953 L 119.88128143782767,124.2381470719747 z" id="c49049" />
		<path d="M 162.73876805101406,1.7333504407233247 L 164.9028471690963,1.7288442431565234 L 170.6806073308449,1.6317927745103087 L 190.13359220989474,1.5132797599172085 L 190.36085981093484,35.09992645408627 L 190.3685634597238,36.236649024531296 L 190.40518845142898,52.55236570071143 L 190.44828227356848,61.237435181323654 L 179.28568277424827,69.94338610396349 L 177.3501107438643,69.8563682101576 L 179.93231671318037,64.18892634788483 L 176.35125875315345,63.41471001844813 L 177.5076729498895,57.701136588332666 L 173.2859387725496,52.87000376369288 L 167.9586055807086,52.57210954858147 L 164.54492072491175,50.73933747515402 L 162.55285635887037,47.6534703865995 L 169.08125361403867,29.255494362578496 L 162.5190857130522,9.296028319687036 L 162.73876805101406,1.7333504407233247 z" id="c49033" />
	</g>
</svg>
            <table>
                <thead>
                    <th></th>
                    <th>size</th>
                    <th>diff</th>
                </thead>
                <tbody id="group-pops">

                </tbody>
            </table>
            <div id="valid-box"></div>
            <div id="best-score-box" style="font-style: italic"></div>
        </div>
        <div id='hover-text' style="width: 200px"></div>
        <ul id="sorted-list"> </ul>
    </div>

    <hr>

    <footer id="footer">
        <a href="?k=2">k = 2</a>
        <a href="?k=3">k = 3</a>
        <a href="?k=4">k = 4</a>
        <br>
        
        <a href="de.html">de</a>
        
        <a href="ri.html">ri</a>
        
        <a href="ct.html">ct</a>
        
        <a href="nh.html">nh</a>
        
        <a href="ma.html">ma</a>
        
        <a href="vt.html">vt</a>
        
        <a href="az.html">az</a>
        
        <a href="me.html">me</a>
        
        <a href="nv.html">nv</a>
        
        <a href="nj.html">nj</a>
        
        <a href="wy.html">wy</a>
        
        <a href="md.html">md</a>
        
        <a href="ut.html">ut</a>
        
        <a href="nm.html">nm</a>
        
        <a href="or.html">or</a>
        
        <a href="wa.html">wa</a>
        
        <a href="id.html">id</a>
        
        <a href="sc.html">sc</a>
        
        <a href="nd.html">nd</a>
        
        <a href="wv.html">wv</a>
        
        <a href="mt.html">mt</a>
        
        <a href="ca.html">ca</a>
        
        <a href="ny.html">ny</a>
        
        <a href="co.html">co</a>
        
        <a href="la.html">la</a>
        
        <a href="sd.html">sd</a>
        
        <a href="al.html">al</a>
        
        <a href="fl.html">fl</a>
        
        <a href="pa.html">pa</a>
        
        <a href="wi.html">wi</a>
        
        <a href="ar.html">ar</a>
        
        <a href="ok.html">ok</a>
        
        <a href="ms.html">ms</a>
        
        <a href="mi.html">mi</a>
        
        <a href="mn.html">mn</a>
        
        <a href="oh.html">oh</a>
        
        <a href="in.html">in</a>
        
        <a href="ne.html">ne</a>
        
        <a href="tn.html">tn</a>
        
        <a href="ia.html">ia</a>
        
        <a href="nc.html">nc</a>
        
        <a href="il.html">il</a>
        
        <a href="ks.html">ks</a>
        
        <a href="mo.html">mo</a>
        
        <a href="ky.html">ky</a>
        
        <a href="va.html">va</a>
        
        <a href="ga.html">ga</a>
        
        <a href="tx.html">tx</a>
        
        <br>
        <a href="../index.html">index</a>
    </footer>

</body>

<script> const STATE = 'ut'</script>
<script>const COUNTY_DATA = {"c49001":{"name":"Beaver","pop":7072,"adj":["c32017","c49017","c49021","c49027","c49031","c49041"]},"c49003":{"name":"Box Elder","pop":57666,"adj":["c16031","c16071","c32007","c49005","c49011","c49045","c49057"]},"c49005":{"name":"Cache","pop":133154,"adj":["c16007","c16041","c16071","c49003","c49033","c49057"]},"c49007":{"name":"Carbon","pop":20412,"adj":["c49013","c49015","c49039","c49047","c49049"]},"c49009":{"name":"Daggett","pop":935,"adj":["c08081","c49013","c49043","c49047","c56037"]},"c49011":{"name":"Davis","pop":362679,"adj":["c49003","c49029","c49035","c49045","c49057"]},"c49013":{"name":"Duchesne","pop":19596,"adj":["c49007","c49009","c49043","c49047","c49049","c49051"]},"c49015":{"name":"Emery","pop":9825,"adj":["c49007","c49019","c49037","c49039","c49041","c49047","c49055"]},"c49017":{"name":"Garfield","pop":5083,"adj":["c49001","c49021","c49025","c49031","c49037","c49055"]},"c49019":{"name":"Grand","pop":9669,"adj":["c08045","c08077","c08085","c49015","c49037","c49047","c49055"]},"c49021":{"name":"Iron","pop":57289,"adj":["c32017","c49001","c49017","c49025","c49053"]},"c49023":{"name":"Juab","pop":11786,"adj":["c32033","c49027","c49039","c49045","c49049"]},"c49025":{"name":"Kane","pop":7667,"adj":["c04005","c04015","c49017","c49021","c49037","c49053"]},"c49027":{"name":"Millard","pop":12975,"adj":["c32017","c32033","c49001","c49023","c49039","c49041"]},"c49029":{"name":"Morgan","pop":12295,"adj":["c49011","c49033","c49035","c49043","c49057"]},"c49031":{"name":"Piute","pop":1438,"adj":["c49001","c49017","c49041","c49055"]},"c49033":{"name":"Rich","pop":2510,"adj":["c16007","c16041","c49005","c49029","c49043","c49057","c56023","c56041"]},"c49035":{"name":"Salt Lake","pop":1185238,"adj":["c49011","c49029","c49043","c49045","c49049","c49051"]},"c49037":{"name":"San Juan","pop":14518,"adj":["c04001","c04005","c04017","c08033","c08077","c08083","c08085","c08113","c35045","c49015","c49017","c49019","c49025","c49055"]},"c49039":{"name":"Sanpete","pop":28437,"adj":["c49007","c49015","c49023","c49027","c49041","c49049"]},"c49041":{"name":"Sevier","pop":21522,"adj":["c49001","c49015","c49027","c49031","c49039","c49055"]},"c49043":{"name":"Summit","pop":42357,"adj":["c49009","c49013","c49029","c49033","c49035","c49051","c56037","c56041"]},"c49045":{"name":"Tooele","pop":72698,"adj":["c32007","c32033","c49003","c49011","c49023","c49035","c49049","c49057"]},"c49047":{"name":"Uintah","pop":35620,"adj":["c08045","c08081","c08103","c49007","c49009","c49013","c49015","c49019"]},"c49049":{"name":"Utah","pop":659399,"adj":["c49007","c49013","c49023","c49035","c49039","c49045","c49051"]},"c49051":{"name":"Wasatch","pop":34788,"adj":["c49013","c49035","c49043","c49049"]},"c49053":{"name":"Washington","pop":180279,"adj":["c04015","c32017","c49021","c49025"]},"c49055":{"name":"Wayne","pop":2486,"adj":["c49015","c49017","c49019","c49031","c49037","c49041"]},"c49057":{"name":"Weber","pop":262223,"adj":["c49003","c49005","c49011","c49029","c49033","c49045"]}}; </script>
<script>const COLORS = ['darkgreen', 'blue', 'darkorange', 'purple', 'red', 'brown'];
const N_GROUPS = Number.parseInt(new URLSearchParams(document.location.search).get('k')) || 4;

const FMT = {
    human: (v) => new Intl.NumberFormat('en', { notation: 'compact' }).format(v),
    long: (v) => new Intl.NumberFormat('fr-FR').format(v),
}


function isValid() {
    const group_ixs = Array(N_GROUPS).fill(0).map((v, ix) => ix);

    const bad_groups = group_ixs.filter(ix => !isGroupConnected(ix));
    
    return [bad_groups.length === 0, bad_groups];
}

function isGroupConnected(grp) {
    const seen = {};
    function dfs(u) {
        seen[u] = true;
        const adj = COUNTY_DATA[u].adj.filter(v => GROUPS[v] === grp && !seen[v] && COUNTY_DATA[v]);
        adj.forEach(dfs);
    }
    const inGroup = Object.keys(GROUPS).filter(k => GROUPS[k] === grp);
    if (inGroup.length === 0) { return false; }
    dfs(inGroup[0]);

    return inGroup.sort().join(';') === Object.keys(seen).sort().join(';')
}


const makeToggle = (cid) => () => {
    toggleGroup(cid);
    updateDisplay([cid]);
}

function toggleGroup(cid) {
    const old_grp = GROUPS[cid];
    const new_grp = (old_grp+1) % N_GROUPS;
    GROUPS[cid] = new_grp;
}

const onMouseOver = function() {
    const el = document.getElementById('hover-text');
    const {name, pop} = COUNTY_DATA[this.id];

    el.textContent = `${name}\n${FMT.long(pop)}`;
}

function updateDisplay(cids) {
    cids.forEach(cid => {
        const grp = GROUPS[cid];
        const color = COLORS[grp]

        document.getElementById('list-'+cid).style.color = color;
        document.getElementById(cid).style.fill = color;
    });

    const rslt = sumGroups();
    Object.entries(rslt).forEach(([group, pop]) => {
        const row = [FMT.human(pop), FMT.long(pop), FMT.long(Math.floor(pop - TOTAL / N_GROUPS))];
        //textContent = FMT.human(pop) + "\t" + FMT.long(pop) + "\t" + Math.floor(pop - TOTAL / N_GROUPS);
        document.getElementById(`pop-${group}`).innerHTML =  row.map(v => `<td>${v}</td>`).join('')
    });

    const lsKey = `${STATE}-${N_GROUPS}`;
    const score = Math.floor(TOTAL/N_GROUPS - Math.min(...Object.values(rslt)));
    let bestScore = localStorage.getItem(lsKey) || '';
    const [valid, badGroups] = isValid();
    document.getElementById('score-box').innerHTML = `score: <b>${FMT.long(score)}</b>`;
    if (valid) {
        document.getElementById('valid-box').textContent = '✅ valid';
    } else {
        document.getElementById('valid-box').textContent = `❌ group ${badGroups[0]} not connected`
    }
    if (valid && Number(bestScore || TOTAL) > score) {
        bestScore = score;
        localStorage.setItem(lsKey, score);
        localStorage.setItem(lsKey+'-groups', JSON.stringify(friendlyGroups()));
    }

    document.getElementById('best-score-box').textContent = 'best: ' + FMT.long(bestScore);
}

function sumGroups() {
    const rslt = Object.fromEntries(Array(N_GROUPS).fill(0).map((v, ix) => [ix, 0]));
    Object.entries(GROUPS).forEach(([id, group]) => {
        const pop = COUNTY_DATA[id].pop;
        rslt[group] += pop;
    });

    return rslt;
}

function friendlyGroups() {
    const rslt = Object.fromEntries(Array(N_GROUPS).fill(0).map((v, ix) => [ix, []]));
    Object.entries(GROUPS).forEach(([id, grp]) => {
        rslt[grp].push(COUNTY_DATA[id].name);
    });
    return rslt;
}

function setup() {
    const county_els = Array.from(document.getElementsByTagName('path'));
    const county_ids = county_els.map(e => e.id);

    // map handlers
    county_els.forEach(path_el => {
        path_el.onmouseover = onMouseOver.bind(path_el);
        path_el.onclick = makeToggle(path_el.id);
    });

    // sorted list
    const sorted_counties = county_ids.map(cid => ({...COUNTY_DATA[cid], id: cid}));

    sorted_counties.sort((a,b) => b.pop - a.pop);
    //sorted_counties.sort((a,b) => b.name > a.name ? -1 : 1);

    const list_el = document.getElementById('sorted-list');
    sorted_counties.forEach(({id, name, pop}) => {
        const li = document.createElement("li");
        li.id = 'list-'+id;
        li.onclick = makeToggle(id);
        li.appendChild(document.createTextNode(name + ": " + FMT.long(pop)));
        list_el.appendChild(li) 

        li.onmouseover = () => {
            document.getElementById(id).style.stroke= 'red';
        }
        li.onmouseleave = () => {
            document.getElementById(id).style.stroke= null;
        }
    });

    const groups_el = document.getElementById('group-pops');
    for (let ix = 0; ix < N_GROUPS; ++ix) {
        const el = document.createElement("tr");
        el.id = 'pop-'+ix;
        el.style.color = COLORS[ix];
        groups_el.appendChild(el);
    }

    const total_pop = sorted_counties.reduce((acc, r) => acc + r.pop, 0);
    const groups = Object.fromEntries(county_ids.map(id => [id, 0]));

    return [groups, total_pop];
};

const [GROUPS, TOTAL] = setup();
updateDisplay(Object.keys(GROUPS)); </script>

</html>