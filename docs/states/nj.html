<html>

<head>
    <link rel="stylesheet" href="https://cdn.simplecss.org/simple.min.css">
    <style>
    @media (prefers-color-scheme: dark) {
        :root,
        ::backdrop {
            color-scheme: light;
            --bg: #fff;
            --accent-bg: #f5f7ff;
            --text: #212121;
            --text-light: #585858;
            --border: #898EA4;
            --accent: #0d47a1;
            --accent-hover: #1266e2;
            --accent-text: var(--bg);
            --code: #d81b60;
            --preformatted: #444;
            --marked: #ffdd33;
            --disabled: #efefef;
        }
    }
    </style>
</head>

<body>
    <p id="score-box"></p>
    <div style="display: flex">
        <div>
            <?xml version="1.0" encoding="utf-8" ?>
<svg baseProfile="full" fill="#d0d0d0" height="399.99999999999994" stroke="#ffffff" stroke-width="1" version="1.1" width="210.58303048071502" xmlns="http://www.w3.org/2000/svg" xmlns:ev="http://www.w3.org/2001/xml-events" xmlns:xlink="http://www.w3.org/1999/xlink">
	<defs />
	<g id="counties"><path d="M 151.58037698761942,98.258566006323 L 156.67195600892939,73.9506157482904 L 163.4325324724968,75.77666241388174 L 172.73011182780118,82.4001106856535 L 181.24378181924482,88.48213091087408 L 180.05725645084948,90.88071496140284 L 179.0740753473016,94.00142442035455 L 176.7877592819504,100.34046139149265 L 182.8547625657023,101.70452274961069 L 182.94444870622812,106.5241350543439 L 180.50606735085856,112.45496143828079 L 171.39795301881514,109.80927559327108 L 161.86265494557188,104.65665400889931 L 160.35809700317853,105.80734495404239 L 151.01019831314784,101.79680752660693 L 151.58037698761942,98.258566006323 z" id="c34013" />
		<path d="M 128.21836084988362,210.6151925549929 L 146.72670179032147,195.2466650161824 L 165.19603024697196,196.1869347241312 L 178.66858857201316,207.15733297201888 L 184.58186508269853,200.980961613869 L 193.7627665915433,206.5999050488994 L 190.17208743467336,226.95010764214848 L 188.56368905153536,238.18653590674322 L 186.9097788527477,256.4806063128517 L 185.83438663103664,262.44730160559413 L 185.60808687090963,263.7020525284983 L 174.30002982807105,285.33362668571493 L 161.60202394393093,304.6000167574058 L 150.14924827501187,306.2404339096536 L 145.4703865558795,296.57427028700994 L 147.92405692681115,293.3895473327489 L 148.95645641356057,260.9878377817351 L 143.288602608016,247.5073324602632 L 128.21836084988362,210.6151925549929 z" id="c34029" />
		<path d="M 0.0,283.83239338136883 L 3.128366330765714,281.00240240777794 L 6.435076311292288,274.63154493357234 L 10.572447215583553,269.9164304137982 L 12.977428230832368,261.57369233103515 L 18.67936127816669,255.68533249636855 L 19.264542670528773,255.2377386495804 L 16.869815520603243,258.6482876494232 L 23.268653522724126,264.964593304019 L 23.445726261563262,268.1702472097047 L 45.85608868771023,278.1562293245899 L 63.314329203313235,294.4627149634516 L 60.84105662268755,312.29839729280263 L 40.79099698036632,295.89886719246414 L 24.081648942490844,312.6439954267397 L 17.72544515823087,323.7113764538562 L 14.516679219256677,321.47422577200075 L 11.665317188858147,315.40857543041767 L 2.610290893484937,311.7450722508355 L 3.746096148209027,305.57147664296684 L 3.86854270700819,299.4506473341459 L 5.853755500987542,292.4353028109473 L 1.9070959485374446,289.42488442476764 L 0.0,283.83239338136883 z" id="c34033" />
		<path d="M 17.72544515823087,323.7113764538562 L 24.081648942490844,312.6439954267397 L 40.79099698036632,295.89886719246414 L 60.84105662268755,312.29839729280263 L 63.314329203313235,294.4627149634516 L 73.02923127767178,303.3775203747784 L 89.46002770827572,318.44447361517945 L 88.71969407276265,334.9358898145678 L 80.3087228383245,353.8080008802793 L 81.71832681910743,359.13687278753673 L 71.11119134364118,356.6861088662776 L 64.66457783468589,352.70103773377195 L 59.23931328240295,353.3949474662651 L 53.328078552311034,358.1181559430975 L 49.531839785042514,351.3881307278312 L 43.71092342425191,344.7259691570774 L 39.66438470993427,340.9140076266452 L 34.42891955155209,339.79711159061 L 29.188292760978303,333.11863244234155 L 25.527862758793177,330.55608683535235 L 19.985385199340108,325.2859389501888 L 17.72544515823087,323.7113764538562 z" id="c34011" />
		<path d="M 64.11175811701962,224.66316648486503 L 72.90758838892499,217.33520014061963 L 75.07559785160875,215.83233460844647 L 80.23855810960625,212.25007613985605 L 88.90466390745404,210.0157411436026 L 93.72565773621277,203.1652531339609 L 100.86273067441411,202.32679897911052 L 106.70278377883983,198.430608532715 L 107.3221630813293,198.9043493725799 L 108.86894581378172,196.9701841690097 L 109.13587371579165,195.86942691904468 L 108.30101614400445,195.9389690149022 L 108.39248747469394,193.75850718946648 L 123.83333046356023,200.87246785911893 L 128.21836084988362,210.6151925549929 L 143.288602608016,247.5073324602632 L 148.95645641356057,260.9878377817351 L 147.92405692681115,293.3895473327489 L 145.4703865558795,296.57427028700994 L 138.04119268171985,297.53317992622203 L 115.28251724394336,285.1075623545008 L 106.46453335231517,269.39764618414176 L 104.89573542421246,268.1233298648326 L 94.34799762082743,258.4997678873225 L 83.80948333997323,257.956537823779 L 80.23756960802345,242.30214099244805 L 73.55237214429211,235.45172560522101 L 73.36046141665643,234.94398463859125 L 74.70276173348873,233.62005281724302 L 72.24657134038974,233.46603560668314 L 71.01593448817823,233.11322361934876 L 69.63491944670187,232.22437406883793 L 69.50171574150981,231.62399504458554 L 69.89638821762095,230.6090764858305 L 69.32755733001562,230.1532824921143 L 69.12575081536832,228.82456407800538 L 63.97022755252744,224.74480743301137 L 64.11175811701962,224.66316648486503 z" id="c34005" />
		<path d="M 179.0740753473016,94.00142442035455 L 186.19808036985643,98.0079873387884 L 186.54792472190363,97.60172757307589 L 186.27292072348564,95.55304543175005 L 187.54621524428407,93.43114517343965 L 187.92931262396044,92.45810335341041 L 188.89378759039158,92.00396778993681 L 190.1996494851943,90.69133056514029 L 191.90428540142807,90.47206338178412 L 196.26915320974143,87.84776407842973 L 196.84111630397368,87.25078352615652 L 197.82973283594052,88.00648017027214 L 197.9989609909693,87.6611757871179 L 198.66634246159688,88.1471279651727 L 198.31156655005552,89.36851610034667 L 199.46613038965415,92.07965152521307 L 195.84878343328387,98.84559722850426 L 194.649793606399,102.0067738472796 L 193.73094293498156,104.42799979825705 L 192.46619675834302,107.75876285533185 L 191.74745019121065,109.65062434937218 L 191.70459115178593,109.76341392975783 L 189.16180009107146,113.08522437880016 L 188.76004147333003,113.60982746637757 L 186.78229503620463,116.19135044417465 L 177.5835965955409,117.1400351260258 L 179.78158954995425,113.59944971038539 L 180.50606735085856,112.45496143828079 L 182.94444870622812,106.5241350543439 L 182.8547625657023,101.70452274961069 L 176.7877592819504,100.34046139149265 L 179.0740753473016,94.00142442035455 z" id="c34017" />
		<path d="M 19.264542670528773,255.2377386495804 L 28.06033572165683,248.50216740580424 L 34.20824332711725,248.113596803006 L 43.41066225941208,246.16021708758265 L 44.66545168267105,245.27979137268775 L 48.26101891563816,242.7554324375481 L 53.552681901190056,240.83347904601482 L 60.32700464916507,259.71533203612876 L 78.48477251402902,273.1976363017827 L 86.87338637774273,288.0619972452241 L 82.43980543388851,292.96586748984754 L 73.02923127767178,303.3775203747784 L 63.314329203313235,294.4627149634516 L 45.85608868771023,278.1562293245899 L 23.445726261563262,268.1702472097047 L 23.268653522724126,264.964593304019 L 16.869815520603243,258.6482876494232 L 19.264542670528773,255.2377386495804 z" id="c34015" />
		<path d="M 54.57238043532776,240.4627618264025 L 54.454421555269086,236.20319563722634 L 54.340264602967565,232.07649426309584 L 54.78281785831497,231.4483386783029 L 56.45310543254065,229.0767724504722 L 63.97022755252744,224.74480743301137 L 69.12575081536832,228.82456407800538 L 69.32755733001562,230.1532824921143 L 69.89638821762095,230.6090764858305 L 69.50171574150981,231.62399504458554 L 69.63491944670187,232.22437406883793 L 71.01593448817823,233.11322361934876 L 72.24657134038974,233.46603560668314 L 74.70276173348873,233.62005281724302 L 73.36046141665643,234.94398463859125 L 73.55237214429211,235.45172560522101 L 80.23756960802345,242.30214099244805 L 83.80948333997323,257.956537823779 L 94.34799762082743,258.4997678873225 L 104.89573542421246,268.1233298648326 L 96.74222650132776,277.14367051205534 L 86.87338637774273,288.0619972452241 L 78.48477251402902,273.1976363017827 L 60.32700464916507,259.71533203612876 L 53.552681901190056,240.83347904601482 L 54.57238043532776,240.4627618264025 z" id="c34007" />
		<path d="M 75.14199075596497,40.55775166847185 L 84.47459325259159,33.15060823585467 L 89.23807686087392,21.292202988741334 L 95.71003557675728,10.051080780660572 L 102.61294362169788,2.795775690889366 L 110.74152374777488,0.0 L 140.21244642085327,18.017358330899928 L 151.48264514192846,25.257566979656026 L 134.53774654582463,44.76710332553244 L 130.472656438275,49.27829202947874 L 117.32403761356159,64.76152419707854 L 117.92800410574463,68.35189777130849 L 108.49147751208469,75.49349283413869 L 101.26417437292277,73.53666352102805 L 98.52983980603948,70.16450798715469 L 77.26885542450675,43.84731046384264 L 74.7430732725954,41.28138873870251 L 75.14199075596497,40.55775166847185 z" id="c34037" />
		<path d="M 166.0564912707903,48.85082179821566 L 170.86062475198344,36.94633521030592 L 192.17112002967966,49.02946443099507 L 210.58303048071502,59.11424675862472 L 208.97383532285974,66.65462986239115 L 207.36200788777933,72.08459842627238 L 207.17136442566533,72.72645540098367 L 205.59805246365204,78.02034580691495 L 205.20778389021459,79.33266285322411 L 204.0494285211687,82.12860536279591 L 201.78729480490193,87.58416420441323 L 201.51007281667074,88.25231998224348 L 201.1231935673965,88.97699994553147 L 199.46613038965415,92.07965152521307 L 198.31156655005552,89.36851610034667 L 198.66634246159688,88.1471279651727 L 197.9989609909693,87.6611757871179 L 197.82973283594052,88.00648017027214 L 196.84111630397368,87.25078352615652 L 196.26915320974143,87.84776407842973 L 191.90428540142807,90.47206338178412 L 190.1996494851943,90.69133056514029 L 188.89378759039158,92.00396778993681 L 187.92931262396044,92.45810335341041 L 187.54621524428407,93.43114517343965 L 186.27292072348564,95.55304543175005 L 186.54792472190363,97.60172757307589 L 186.19808036985643,98.0079873387884 L 179.0740753473016,94.00142442035455 L 180.05725645084948,90.88071496140284 L 181.24378181924482,88.48213091087408 L 184.12205468914496,81.98485951206777 L 180.88239227831062,71.59800085063361 L 179.76413181959015,64.3670286520131 L 175.99946049295892,62.61601855364208 L 163.3604190837997,55.923001441608704 L 166.0564912707903,48.85082179821566 z" id="c34003" />
		<path d="M 97.49175056104318,138.66087044841913 L 108.16685933594752,127.43250070617981 L 106.65220063805951,105.08487040093945 L 115.23138104790986,102.51989046339635 L 127.92404751518792,98.75558083602182 L 133.21822997339876,108.70950377787456 L 132.04239759897115,116.71983036770911 L 139.82553617754877,112.70289414649952 L 147.05885472816334,113.8310699741652 L 147.04307920249306,115.80238664162853 L 144.4281975721661,121.58916494084897 L 139.5476734321765,124.94605716760657 L 131.93356662939885,129.80922013789763 L 139.986238680987,142.76082085469864 L 136.26019786807257,145.49552592583493 L 124.23761659388451,154.76110565638436 L 119.78903702194475,162.07458760951496 L 119.48378736344974,160.33013168820747 L 106.96115074261498,161.8099126585199 L 103.69726409212015,153.7372696432002 L 97.49175056104318,138.66087044841913 z" id="c34035" />
		<path d="M 48.11816539681455,105.3815280256027 L 50.076846226607024,97.43071650973242 L 58.38849407677257,93.24812553293468 L 58.747089225902634,93.06746007686296 L 61.00819431817132,83.51181432093263 L 64.24011339765003,77.52039204634558 L 60.24994091261567,70.73932591886359 L 57.10469272475902,64.35329244710559 L 55.89458938073029,61.89403552723026 L 63.74614247170393,55.61459096199274 L 66.02846601690509,53.32131577328531 L 70.68317446600409,48.639808357661344 L 73.56657162485976,43.41492479132176 L 74.7430732725954,41.28138873870251 L 77.26885542450675,43.84731046384264 L 98.52983980603948,70.16450798715469 L 101.26417437292277,73.53666352102805 L 91.09031659728302,91.08949691815417 L 86.12642867744863,93.77767961351834 L 76.26385407189026,106.3171043687927 L 74.33530681175476,107.28724397877237 L 53.867054633805225,119.79406978395242 L 48.51232456564042,125.69221659217727 L 48.40336271781649,122.98225408463544 L 48.21193882051232,118.21709559550905 L 48.11816539681455,105.3815280256027 z" id="c34041" />
		<path d="M 80.9731527410913,167.54220322683685 L 90.03451625490071,166.451021391477 L 103.69726409212015,153.7372696432002 L 106.96115074261498,161.8099126585199 L 119.48378736344974,160.33013168820747 L 119.78903702194475,162.07458760951496 L 119.49792752025353,170.13770136014153 L 136.836150429781,181.92235620298595 L 129.4741439859157,187.95571389932928 L 120.46189278642565,193.59937007559597 L 123.83333046356023,200.87246785911893 L 108.39248747469394,193.75850718946648 L 108.30101614400445,195.9389690149022 L 109.13587371579165,195.86942691904468 L 108.86894581378172,196.9701841690097 L 107.3221630813293,198.9043493725799 L 106.70278377883983,198.430608532715 L 106.9275588909347,198.28053503343898 L 103.54254940284643,193.14873914087798 L 102.01965646868112,190.83809325745798 L 94.04922916493209,183.79446287047426 L 89.95756222285478,177.86501473742558 L 84.08119195205018,171.5469489939682 L 80.9731527410913,167.54220322683685 z" id="c34021" />
		<path d="M 76.41925502430011,388.0059774530124 L 83.12612662620575,373.8446184298668 L 85.44374818765118,364.600122468654 L 82.99573583876973,359.43129291411225 L 81.71832681910743,359.13687278753673 L 80.3087228383245,353.8080008802793 L 88.71969407276265,334.9358898145678 L 115.329483434426,340.818562842696 L 129.71860038549502,338.9452621031864 L 124.5674059320348,343.7521739606181 L 116.15520617446307,353.4288446455047 L 112.96311643434129,358.7265982622226 L 107.43915968941386,368.59649057882734 L 108.51888490268418,371.37695723385167 L 99.12344447008923,384.50531396776137 L 95.35911821494211,390.60754097486114 L 88.06143602881237,398.08054113156265 L 79.16275424219684,399.99999999999994 L 74.83124841470558,399.1725733439057 L 76.41925502430011,388.0059774530124 z" id="c34009" />
		<path d="M 91.09031659728302,91.08949691815417 L 101.26417437292277,73.53666352102805 L 108.49147751208469,75.49349283413869 L 117.92800410574463,68.35189777130849 L 117.32403761356159,64.76152419707854 L 130.472656438275,49.27829202947874 L 134.53774654582463,44.76710332553244 L 135.21546033641434,53.27033511320131 L 141.54585236444376,49.94560419612149 L 143.04377031758472,55.613391075335514 L 152.05633600331566,56.738757606517986 L 160.0437759064454,58.406062187566086 L 163.4325324724968,75.77666241388174 L 156.67195600892939,73.9506157482904 L 151.58037698761942,98.258566006323 L 151.01019831314784,101.79680752660693 L 149.93828207533153,103.788263241258 L 141.99056536517213,110.30735979908223 L 139.82553617754877,112.70289414649952 L 132.04239759897115,116.71983036770911 L 133.21822997339876,108.70950377787456 L 127.92404751518792,98.75558083602182 L 115.23138104790986,102.51989046339635 L 106.65220063805951,105.08487040093945 L 94.38660411002841,101.31040961654874 L 86.12642867744863,93.77767961351834 L 91.09031659728302,91.08949691815417 z" id="c34027" />
		<path d="M 139.5476734321765,124.94605716760657 L 144.4281975721661,121.58916494084897 L 147.04307920249306,115.80238664162853 L 147.05885472816334,113.8310699741652 L 139.82553617754877,112.70289414649952 L 141.99056536517213,110.30735979908223 L 149.93828207533153,103.788263241258 L 151.01019831314784,101.79680752660693 L 160.35809700317853,105.80734495404239 L 161.86265494557188,104.65665400889931 L 171.39795301881514,109.80927559327108 L 180.50606735085856,112.45496143828079 L 179.78158954995425,113.59944971038539 L 177.5835965955409,117.1400351260258 L 176.2710093594363,117.2747670478717 L 172.57528445016425,119.49885653463835 L 172.30923005415337,119.65888558056423 L 172.1495610071751,125.95455717159236 L 161.18630026414937,126.1122061180034 L 159.68178529280587,123.35494973217163 L 152.677709278361,124.12984171664043 L 142.25669150644848,125.29087877781403 L 139.5476734321765,124.94605716760657 z" id="c34039" />
		<path d="M 120.46189278642565,193.59937007559597 L 129.4741439859157,187.95571389932928 L 136.836150429781,181.92235620298595 L 148.38941045239378,177.5800446327469 L 156.69636930964097,166.86562794237537 L 161.28520223360906,162.18074908784027 L 168.12356973481212,150.55419635929772 L 169.59088541706285,149.69003963017556 L 171.91901888545607,150.99310433500077 L 178.0938953690183,149.84008636599256 L 184.23817566141634,150.43773985774484 L 191.86251045819603,154.50004436298286 L 195.41023410283714,145.85943613737015 L 198.09634231020033,144.95092147019184 L 200.79971445203793,156.16403833767149 L 201.5645982794489,166.12595281394397 L 200.33253443403336,177.4341285729826 L 197.9503747526911,187.73464670800155 L 194.34998098523283,203.26435432930057 L 193.7627665915433,206.5999050488994 L 184.58186508269853,200.980961613869 L 178.66858857201316,207.15733297201888 L 165.19603024697196,196.1869347241312 L 146.72670179032147,195.2466650161824 L 128.21836084988362,210.6151925549929 L 123.83333046356023,200.87246785911893 L 120.46189278642565,193.59937007559597 z" id="c34025" />
		<path d="M 134.53774654582463,44.76710332553244 L 151.48264514192846,25.257566979656026 L 159.58800017320686,30.451359821919617 L 168.00865956157287,35.3240397757768 L 168.0224047231331,35.33186145871326 L 170.86062475198344,36.94633521030592 L 166.0564912707903,48.85082179821566 L 163.3604190837997,55.923001441608704 L 175.99946049295892,62.61601855364208 L 179.76413181959015,64.3670286520131 L 180.88239227831062,71.59800085063361 L 184.12205468914496,81.98485951206777 L 181.24378181924482,88.48213091087408 L 172.73011182780118,82.4001106856535 L 163.4325324724968,75.77666241388174 L 160.0437759064454,58.406062187566086 L 152.05633600331566,56.738757606517986 L 143.04377031758472,55.613391075335514 L 141.54585236444376,49.94560419612149 L 135.21546033641434,53.27033511320131 L 134.53774654582463,44.76710332553244 z" id="c34031" />
		<path d="M 48.51232456564042,125.69221659217727 L 53.867054633805225,119.79406978395242 L 74.33530681175476,107.28724397877237 L 76.26385407189026,106.3171043687927 L 86.12642867744863,93.77767961351834 L 94.38660411002841,101.31040961654874 L 106.65220063805951,105.08487040093945 L 108.16685933594752,127.43250070617981 L 97.49175056104318,138.66087044841913 L 103.69726409212015,153.7372696432002 L 90.03451625490071,166.451021391477 L 80.9731527410913,167.54220322683685 L 78.7318681270461,164.65192814745805 L 75.79603174325594,157.6412676742398 L 68.85036392680446,156.99513441980474 L 64.91823623607924,154.8935334883108 L 63.13838721325223,148.44089554876626 L 64.21553265507883,144.1272293920398 L 62.24045995002314,133.09215911102876 L 54.95371052105099,128.52204671495338 L 48.66622656984995,129.51685677413505 L 48.51232456564042,125.69221659217727 z" id="c34019" />
		<path d="M 82.43980543388851,292.96586748984754 L 86.87338637774273,288.0619972452241 L 96.74222650132776,277.14367051205534 L 104.89573542421246,268.1233298648326 L 106.46453335231517,269.39764618414176 L 115.28251724394336,285.1075623545008 L 138.04119268171985,297.53317992622203 L 145.4703865558795,296.57427028700994 L 150.14924827501187,306.2404339096536 L 161.60202394393093,304.6000167574058 L 161.5295951378754,304.70968319391545 L 159.91478337107932,310.68565650876053 L 151.9344234500381,322.1354919947333 L 146.1010892802675,328.92863163640686 L 132.14936775708475,336.6747660419263 L 129.71860038549502,338.9452621031864 L 115.329483434426,340.818562842696 L 88.71969407276265,334.9358898145678 L 89.46002770827572,318.44447361517945 L 73.02923127767178,303.3775203747784 L 82.43980543388851,292.96586748984754 z" id="c34001" />
		<path d="M 119.78903702194475,162.07458760951496 L 124.23761659388451,154.76110565638436 L 136.26019786807257,145.49552592583493 L 139.986238680987,142.76082085469864 L 131.93356662939885,129.80922013789763 L 139.5476734321765,124.94605716760657 L 142.25669150644848,125.29087877781403 L 152.677709278361,124.12984171664043 L 159.68178529280587,123.35494973217163 L 161.18630026414937,126.1122061180034 L 172.1495610071751,125.95455717159236 L 170.51607546279772,131.57315563862667 L 166.45502531988282,133.8183462661129 L 165.04143988481866,140.84477247315817 L 164.8975005809454,147.0607208462813 L 169.59088541706285,149.69003963017556 L 168.12356973481212,150.55419635929772 L 161.28520223360906,162.18074908784027 L 156.69636930964097,166.86562794237537 L 148.38941045239378,177.5800446327469 L 136.836150429781,181.92235620298595 L 119.49792752025353,170.13770136014153 L 119.78903702194475,162.07458760951496 z" id="c34023" />
	</g>
</svg>
            <table>
                <thead>
                    <th></th>
                    <th>size</th>
                    <th>diff</th>
                </thead>
                <tbody id="group-pops">

                </tbody>
            </table>
            <div id="valid-box"></div>
            <div id="best-score-box" style="font-style: italic"></div>
        </div>
        <div id='hover-text' style="width: 200px"></div>
        <ul id="sorted-list"> </ul>
    </div>

    <hr>

    <footer id="footer">
        <a href="?k=2">k = 2</a>
        <a href="?k=3">k = 3</a>
        <a href="?k=4">k = 4</a>
        <br>
        
        <a href="de.html">de</a>
        
        <a href="ri.html">ri</a>
        
        <a href="ct.html">ct</a>
        
        <a href="nh.html">nh</a>
        
        <a href="ma.html">ma</a>
        
        <a href="vt.html">vt</a>
        
        <a href="az.html">az</a>
        
        <a href="me.html">me</a>
        
        <a href="nv.html">nv</a>
        
        <a href="nj.html">nj</a>
        
        <a href="wy.html">wy</a>
        
        <a href="md.html">md</a>
        
        <a href="ut.html">ut</a>
        
        <a href="nm.html">nm</a>
        
        <a href="or.html">or</a>
        
        <a href="wa.html">wa</a>
        
        <a href="id.html">id</a>
        
        <a href="sc.html">sc</a>
        
        <a href="nd.html">nd</a>
        
        <a href="wv.html">wv</a>
        
        <a href="mt.html">mt</a>
        
        <a href="ca.html">ca</a>
        
        <a href="ny.html">ny</a>
        
        <a href="co.html">co</a>
        
        <a href="la.html">la</a>
        
        <a href="sd.html">sd</a>
        
        <a href="al.html">al</a>
        
        <a href="fl.html">fl</a>
        
        <a href="pa.html">pa</a>
        
        <a href="wi.html">wi</a>
        
        <a href="ar.html">ar</a>
        
        <a href="ok.html">ok</a>
        
        <a href="ms.html">ms</a>
        
        <a href="mi.html">mi</a>
        
        <a href="mn.html">mn</a>
        
        <a href="oh.html">oh</a>
        
        <a href="in.html">in</a>
        
        <a href="ne.html">ne</a>
        
        <a href="tn.html">tn</a>
        
        <a href="ia.html">ia</a>
        
        <a href="nc.html">nc</a>
        
        <a href="il.html">il</a>
        
        <a href="ks.html">ks</a>
        
        <a href="mo.html">mo</a>
        
        <a href="ky.html">ky</a>
        
        <a href="va.html">va</a>
        
        <a href="ga.html">ga</a>
        
        <a href="tx.html">tx</a>
        
        <br>
        <a href="../index.html">index</a>
    </footer>

</body>

<script> const STATE = 'nj'</script>
<script>const COUNTY_DATA = {"c34001":{"name":"Atlantic","pop":274534,"adj":["c34005","c34007","c34009","c34011","c34015","c34029"]},"c34003":{"name":"Bergen","pop":955732,"adj":["c34013","c34017","c34031","c36005","c36061","c36087","c36119"]},"c34005":{"name":"Burlington","pop":461860,"adj":["c34001","c34007","c34021","c34025","c34029","c42017","c42101"]},"c34007":{"name":"Camden","pop":523485,"adj":["c34001","c34005","c34015","c42101"]},"c34009":{"name":"Cape May","pop":95263,"adj":["c10001","c10005","c34001","c34011"]},"c34011":{"name":"Cumberland","pop":154152,"adj":["c10001","c34001","c34009","c34015","c34033"]},"c34013":{"name":"Essex","pop":863728,"adj":["c34003","c34017","c34027","c34031","c34039"]},"c34015":{"name":"Gloucester","pop":302294,"adj":["c10003","c34001","c34007","c34011","c34033","c42045","c42101"]},"c34017":{"name":"Hudson","pop":724854,"adj":["c34003","c34013","c34039","c36047","c36061","c36085"]},"c34019":{"name":"Hunterdon","pop":128947,"adj":["c34021","c34027","c34035","c34041","c42017"]},"c34021":{"name":"Mercer","pop":387340,"adj":["c34005","c34019","c34023","c34025","c34035","c42017"]},"c34023":{"name":"Middlesex","pop":863162,"adj":["c34021","c34025","c34035","c34039","c36085"]},"c34025":{"name":"Monmouth","pop":643615,"adj":["c34005","c34021","c34023","c34029","c36081","c36085"]},"c34027":{"name":"Morris","pop":509285,"adj":["c34013","c34019","c34031","c34035","c34037","c34039","c34041"]},"c34029":{"name":"Ocean","pop":637229,"adj":["c34001","c34005","c34025"]},"c34031":{"name":"Passaic","pop":524118,"adj":["c34003","c34013","c34027","c34037","c36071","c36087"]},"c34033":{"name":"Salem","pop":64837,"adj":["c10001","c10003","c34011","c34015"]},"c34035":{"name":"Somerset","pop":345361,"adj":["c34019","c34021","c34023","c34027","c34039"]},"c34037":{"name":"Sussex","pop":144221,"adj":["c34027","c34031","c34041","c36071","c42089","c42103"]},"c34039":{"name":"Union","pop":575345,"adj":["c34013","c34017","c34023","c34027","c34035","c36085"]},"c34041":{"name":"Warren","pop":109632,"adj":["c34019","c34027","c34037","c42017","c42089","c42095"]}}; </script>
<script>const COLORS = ['darkgreen', 'blue', 'darkorange', 'purple', 'red', 'brown'];
const N_GROUPS = Number.parseInt(new URLSearchParams(document.location.search).get('k')) || 4;

const FMT = {
    human: (v) => new Intl.NumberFormat('en', { notation: 'compact' }).format(v),
    long: (v) => new Intl.NumberFormat('fr-FR').format(v),
}


function isValid() {
    const group_ixs = Array(N_GROUPS).fill(0).map((v, ix) => ix);

    const bad_groups = group_ixs.filter(ix => !isGroupConnected(ix));
    
    return [bad_groups.length === 0, bad_groups];
}

function isGroupConnected(grp) {
    const seen = {};
    function dfs(u) {
        seen[u] = true;
        const adj = COUNTY_DATA[u].adj.filter(v => GROUPS[v] === grp && !seen[v] && COUNTY_DATA[v]);
        adj.forEach(dfs);
    }
    const inGroup = Object.keys(GROUPS).filter(k => GROUPS[k] === grp);
    if (inGroup.length === 0) { return false; }
    dfs(inGroup[0]);

    return inGroup.sort().join(';') === Object.keys(seen).sort().join(';')
}


const makeToggle = (cid) => () => {
    toggleGroup(cid);
    updateDisplay([cid]);
}

function toggleGroup(cid) {
    const old_grp = GROUPS[cid];
    const new_grp = (old_grp+1) % N_GROUPS;
    GROUPS[cid] = new_grp;
}

const onMouseOver = function() {
    const el = document.getElementById('hover-text');
    const {name, pop} = COUNTY_DATA[this.id];

    el.textContent = `${name}\n${FMT.long(pop)}`;
}

function updateDisplay(cids) {
    cids.forEach(cid => {
        const grp = GROUPS[cid];
        const color = COLORS[grp]

        document.getElementById('list-'+cid).style.color = color;
        document.getElementById(cid).style.fill = color;
    });

    const rslt = sumGroups();
    Object.entries(rslt).forEach(([group, pop]) => {
        const row = [FMT.human(pop), FMT.long(pop), FMT.long(Math.floor(pop - TOTAL / N_GROUPS))];
        //textContent = FMT.human(pop) + "\t" + FMT.long(pop) + "\t" + Math.floor(pop - TOTAL / N_GROUPS);
        document.getElementById(`pop-${group}`).innerHTML =  row.map(v => `<td>${v}</td>`).join('')
    });

    const lsKey = `${STATE}-${N_GROUPS}`;
    const score = Math.floor(TOTAL/N_GROUPS - Math.min(...Object.values(rslt)));
    let bestScore = localStorage.getItem(lsKey) || '';
    const [valid, badGroups] = isValid();
    document.getElementById('score-box').innerHTML = `score: <b>${FMT.long(score)}</b>`;
    if (valid) {
        document.getElementById('valid-box').textContent = '✅ valid';
    } else {
        document.getElementById('valid-box').textContent = `❌ group ${badGroups[0]} not connected`
    }
    if (valid && Number(bestScore || TOTAL) > score) {
        bestScore = score;
        localStorage.setItem(lsKey, score);
        localStorage.setItem(lsKey+'-groups', JSON.stringify(friendlyGroups()));
    }

    document.getElementById('best-score-box').textContent = 'best: ' + FMT.long(bestScore);
}

function sumGroups() {
    const rslt = Object.fromEntries(Array(N_GROUPS).fill(0).map((v, ix) => [ix, 0]));
    Object.entries(GROUPS).forEach(([id, group]) => {
        const pop = COUNTY_DATA[id].pop;
        rslt[group] += pop;
    });

    return rslt;
}

function friendlyGroups() {
    const rslt = Object.fromEntries(Array(N_GROUPS).fill(0).map((v, ix) => [ix, []]));
    Object.entries(GROUPS).forEach(([id, grp]) => {
        rslt[grp].push(COUNTY_DATA[id].name);
    });
    return rslt;
}

function setup() {
    const county_els = Array.from(document.getElementsByTagName('path'));
    const county_ids = county_els.map(e => e.id);

    // map handlers
    county_els.forEach(path_el => {
        path_el.onmouseover = onMouseOver.bind(path_el);
        path_el.onclick = makeToggle(path_el.id);
    });

    // sorted list
    const sorted_counties = county_ids.map(cid => ({...COUNTY_DATA[cid], id: cid}));

    sorted_counties.sort((a,b) => b.pop - a.pop);
    //sorted_counties.sort((a,b) => b.name > a.name ? -1 : 1);

    const list_el = document.getElementById('sorted-list');
    sorted_counties.forEach(({id, name, pop}) => {
        const li = document.createElement("li");
        li.id = 'list-'+id;
        li.onclick = makeToggle(id);
        li.appendChild(document.createTextNode(name + ": " + FMT.long(pop)));
        list_el.appendChild(li) 

        li.onmouseover = () => {
            document.getElementById(id).style.stroke= 'red';
        }
        li.onmouseleave = () => {
            document.getElementById(id).style.stroke= null;
        }
    });

    const groups_el = document.getElementById('group-pops');
    for (let ix = 0; ix < N_GROUPS; ++ix) {
        const el = document.createElement("tr");
        el.id = 'pop-'+ix;
        el.style.color = COLORS[ix];
        groups_el.appendChild(el);
    }

    const total_pop = sorted_counties.reduce((acc, r) => acc + r.pop, 0);
    const groups = Object.fromEntries(county_ids.map(id => [id, 0]));

    return [groups, total_pop];
};

const [GROUPS, TOTAL] = setup();
updateDisplay(Object.keys(GROUPS)); </script>

</html>