<html>

<head>
    <link rel="stylesheet" href="https://cdn.simplecss.org/simple.min.css">
</head>

<body>
    <p id="score-box"></p>
    <div style="display: flex">
        <div>
            <?xml version="1.0" encoding="utf-8" ?>
<svg baseProfile="full" fill="#d0d0d0" height="246.7697940925344" stroke="#ffffff" stroke-width="1" version="1.1" width="400.0" xmlns="http://www.w3.org/2000/svg" xmlns:ev="http://www.w3.org/2001/xml-events" xmlns:xlink="http://www.w3.org/1999/xlink">
	<defs />
	<g id="counties"><path d="M 137.02143578633115,58.793202558456954 L 142.27372590408064,53.81527849520581 L 139.44059409449923,48.69152530874268 L 144.4777198581336,38.5008744784839 L 138.68497875503198,22.466894883676876 L 147.45636989386355,22.972021635586103 L 156.19172459676912,23.46704733885278 L 157.67945069204552,23.55001317920748 L 160.9592764892019,23.73209845011373 L 177.78792245097088,24.648618954472287 L 181.13124741017424,24.82716570617166 L 185.40237412393648,36.53842980285768 L 194.5821657136119,35.116341051757175 L 206.81778816852915,40.18128991789104 L 205.0613413874503,52.32698604713628 L 209.8271427809163,53.35105644454233 L 220.6264900937159,50.63709173607211 L 218.1339376775057,70.25936080481968 L 210.72770761892,79.38238523816956 L 215.0489696471817,85.3571061433188 L 218.86411856589595,83.09284923301176 L 226.0254295207036,82.60829997946846 L 223.72184660823368,92.46249193187218 L 221.97781501949885,92.11559057586672 L 218.86691895345723,92.14300546289174 L 214.77530625604243,93.06364044657359 L 218.08843745527201,104.65329815422719 L 224.0243528936192,103.38774645822726 L 226.69722981650855,108.60981543696532 L 226.60929915810013,112.41674690059139 L 224.1996898618368,116.56946929933324 L 224.2895060520173,122.35811529041867 L 224.21194789836665,129.70236489233574 L 217.36779107986197,129.85075988389877 L 213.82814052096052,129.93104871992097 L 212.08410183643903,129.9701319231547 L 190.55341585301878,130.42672626406065 L 190.43091730314316,128.100924004048 L 181.0452810168092,127.73211213001704 L 169.5803523467996,127.26921973141398 L 156.75480650961876,126.77823277118445 L 153.00539504400496,126.63148163949636 L 153.39757047823807,109.93009384841436 L 152.69216479229488,106.8588451449541 L 146.26397405872927,107.82824096488451 L 139.15521052873996,103.17010229022088 L 144.09780208908927,94.06126652575489 L 145.24455128640253,93.18295081927738 L 145.4540398652194,84.174007305125 L 136.9103412029958,77.90782259475569 L 134.04744525628544,79.09812950418475 L 137.02143578633115,58.793202558456954 z" id="c25027" />
		<path d="M 0.0,113.96810135487996 L 12.215015193256182,74.56797800114322 L 19.453976585330512,51.07238185399396 L 25.09577923482257,32.85950431929414 L 30.289769553014143,16.033226835084022 L 43.80428624570432,16.832116882695868 L 56.991014119042795,17.593146774876214 L 57.47328191354646,17.620633337153173 L 65.15710575139714,18.055275503006307 L 59.719666455839246,27.77003687715287 L 64.51854966299614,32.80294089974003 L 61.45843713871531,45.459443501027415 L 62.14625809192851,47.88240927148381 L 56.67370062004605,71.76945031650325 L 50.706764975125076,70.18073956430892 L 50.65262625856832,77.5842764357965 L 56.44154181957123,82.94217048588494 L 57.66266116880353,81.84619541937984 L 53.05763184657796,107.05846808572606 L 48.92403419492686,106.92660013951456 L 50.540337297218045,122.5093474624218 L 42.304228778847914,121.962227989131 L 30.723368175926016,121.18097970875965 L 2.134821034822208,119.53373382696456 L 1.8921837026743102,118.90153712001536 L 0.0,113.96810135487996 z" id="c25003" />
		<path d="M 181.13124741017424,24.82716570617166 L 191.44861965939737,25.37076351343906 L 195.07655481490258,25.559258172928295 L 198.0312567332777,25.711754368868903 L 210.14435476036124,26.237934232823484 L 241.57340416621858,27.608095882091593 L 247.94897110196516,27.843164657715302 L 252.2690432284847,21.974556035569112 L 252.323746136359,21.973825341482478 L 254.10939420218236,32.03136399120109 L 252.10095266719486,33.854272167134006 L 262.13669865820225,42.80071938293973 L 264.2456330251183,41.270369520424445 L 276.62121348614244,44.77910833917853 L 274.3708643654219,61.19089340917801 L 282.13652629848343,69.02192861301256 L 282.18317526937665,69.58796441789234 L 271.21339048057814,75.20188261253668 L 273.0798427239731,77.21123011230708 L 271.594368921276,78.68803547059598 L 267.19894770667173,77.88395184748082 L 261.55778498126915,78.46769387854947 L 262.7176223372361,82.94845397980991 L 258.849927795685,89.9909645095948 L 254.4724217001863,84.30860328890101 L 250.13901654597166,83.16794819166695 L 243.4671335198035,85.36915756391218 L 246.36183907751982,95.09753678114686 L 241.69899712984906,102.18397500332594 L 226.69722981650855,108.60981543696532 L 224.0243528936192,103.38774645822726 L 218.08843745527201,104.65329815422719 L 214.77530625604243,93.06364044657359 L 218.86691895345723,92.14300546289174 L 221.97781501949885,92.11559057586672 L 223.72184660823368,92.46249193187218 L 226.0254295207036,82.60829997946846 L 218.86411856589595,83.09284923301176 L 215.0489696471817,85.3571061433188 L 210.72770761892,79.38238523816956 L 218.1339376775057,70.25936080481968 L 220.6264900937159,50.63709173607211 L 209.8271427809163,53.35105644454233 L 205.0613413874503,52.32698604713628 L 206.81778816852915,40.18128991789104 L 194.5821657136119,35.116341051757175 L 185.40237412393648,36.53842980285768 L 181.13124741017424,24.82716570617166 z" id="c25017" />
		<path d="M 237.16431518108973,139.39544753128433 L 237.21784548519412,134.45838275194671 L 240.373838057713,133.82210447223494 L 247.67531703182885,130.1558534502796 L 264.46508075753695,121.548172312341 L 270.97971153426187,118.18769953826893 L 273.7497994997427,134.76513386817314 L 279.84579934555995,143.1033231871138 L 279.8194333944531,143.23101496381037 L 279.8563739292748,143.28803083610774 L 280.06714310588166,143.36193332060049 L 280.1761258833582,143.44499015957356 L 280.27550264580105,143.6032282304818 L 280.3058497487412,143.71790659654684 L 280.2922056036317,143.89213353618305 L 280.12463924377016,144.06967502619048 L 280.15901638420235,144.4184818297271 L 280.09806541933926,144.7213294216159 L 280.10137911321175,144.9436130219058 L 280.21716424360096,145.2103047462047 L 280.38592523674924,145.31678163982113 L 280.4413792343146,145.270187292975 L 280.4855385733739,145.1036284008414 L 280.6474768323569,145.13047835274793 L 280.7062036332978,145.21684004105626 L 280.81276465875055,146.04819948990925 L 280.75857604091925,146.30552654992744 L 280.66210287939015,146.49696810870535 L 280.5669784471476,146.58845014869013 L 281.22652672574435,146.6876505881583 L 282.70549298151275,153.42949743684756 L 275.622704307785,160.03560076323552 L 278.0716798041685,162.59179720282808 L 276.74116656168457,165.6830996041407 L 288.473180382035,163.89549518762186 L 290.09090661963273,168.0547128275938 L 292.57842704172424,169.17929029584738 L 294.78371869545276,177.5739354025805 L 297.6344333613693,190.38419081078573 L 301.5874605729577,192.38382306481074 L 299.55828918694135,195.17505206665624 L 296.0493119884575,194.49001706495972 L 295.54222861092643,194.60916030880531 L 289.74508177774686,195.96916200043572 L 289.6241811373988,195.9974843182668 L 286.03792340190006,201.51745038416502 L 281.51802923864847,205.99676033067976 L 277.16151712296056,207.1570313958781 L 275.4471168363356,207.6130182905724 L 269.8077750216291,206.04123983916148 L 265.8631237439819,207.78871983056078 L 264.0725413804289,192.02339013862888 L 264.65336343513735,183.4043281462372 L 257.6193734251256,181.10422896792036 L 256.9885000071083,180.0982864246165 L 256.1818677716703,178.8117241547703 L 250.33361796374717,169.47149511825552 L 244.08353656178758,165.67450673785882 L 242.74577642230278,164.8608934118561 L 241.67329617312606,157.44678474589438 L 241.79591785741036,148.24568657743768 L 237.04771059960058,148.22851738851142 L 237.16431518108973,139.39544753128433 z" id="c25005" />
		<path d="M 254.10939420218236,32.03136399120109 L 252.323746136359,21.973825341482478 L 253.39884753141968,21.959401236613115 L 260.42685482496927,21.86213560832544 L 260.0145514996888,13.897401680881366 L 264.0619645877564,10.210085321677424 L 267.7369266575465,10.774627340122304 L 273.4908251187046,11.655564232855573 L 275.22380912635435,7.951878923724127 L 277.1824795041996,3.762002675210422 L 284.32744057737847,2.3186875542781564 L 288.276537536817,0.0 L 295.5502890517767,2.182230131370046 L 300.7850406227703,1.8981440279961144 L 302.0690622634006,15.47099794247729 L 305.6751381567396,26.08823965534966 L 310.35178210248944,32.31801740688585 L 315.6850471353186,33.419121912447736 L 319.7297571864605,29.36664300272512 L 324.4387794746911,31.130639789838472 L 325.37124616556423,37.52919216666649 L 318.6364117146396,45.4346304809562 L 313.7770493671902,46.150471240886056 L 302.0779167797588,48.484915215410034 L 297.1504085469481,50.175397456732846 L 298.50135283079106,59.13036016186617 L 292.8848157600243,62.149963610049326 L 291.45681196446185,65.18383124892297 L 290.6989011905734,66.79318306487725 L 289.8913778323267,68.50722061881721 L 285.22325397195374,68.81781062440605 L 282.13652629848343,69.02192861301256 L 274.3708643654219,61.19089340917801 L 276.62121348614244,44.77910833917853 L 264.2456330251183,41.270369520424445 L 262.13669865820225,42.80071938293973 L 252.10095266719486,33.854272167134006 L 254.10939420218236,32.03136399120109 z" id="c25009" />
		<path d="M 270.97971153426187,118.18769953826893 L 285.70181702163285,110.38856395336595 L 288.3952240070319,108.9896020140574 L 289.69206247441224,89.32706702961701 L 285.8578805767447,90.27411254698224 L 289.32596688441834,86.79415450525644 L 293.3557842859994,87.56565661400494 L 296.69090710041735,92.43531149732536 L 298.385674212064,92.96766698532026 L 296.4187778340748,96.73059822306286 L 297.8043186639664,100.70662290565694 L 299.33501750422977,102.56006619642328 L 304.0188266182413,98.90668996385074 L 304.42083780182236,95.40639032264477 L 310.0870024595047,101.07357062377517 L 315.10366393519604,112.76407369416755 L 315.77959687751087,113.76605583041365 L 320.31646573512387,120.48470046243136 L 319.6536041056932,125.8319568988362 L 315.7913008481268,131.8775989101774 L 317.6032346110281,138.6133045381693 L 323.67477906986954,141.60393512923 L 326.4281237182961,140.21225345143404 L 330.5858683416542,145.199557822124 L 332.9137544154555,153.8961896076204 L 331.1782460569864,160.33627455219056 L 331.6962580859797,160.953938150983 L 328.45610695650083,164.688089361213 L 320.90496489160813,168.24642697546653 L 322.22240205364733,170.55237737952308 L 314.31738213349837,183.58717756002142 L 311.4887178315108,190.54061792730508 L 306.3506122565706,186.7042995490318 L 305.93640736405365,186.39478659902403 L 301.5874605729577,192.38382306481074 L 297.6344333613693,190.38419081078573 L 294.78371869545276,177.5739354025805 L 292.57842704172424,169.17929029584738 L 290.09090661963273,168.0547128275938 L 288.473180382035,163.89549518762186 L 276.74116656168457,165.6830996041407 L 278.0716798041685,162.59179720282808 L 275.622704307785,160.03560076323552 L 282.70549298151275,153.42949743684756 L 281.22652672574435,146.6876505881583 L 280.5669784471476,146.58845014869013 L 280.66210287939015,146.49696810870535 L 280.75857604091925,146.30552654992744 L 280.81276465875055,146.04819948990925 L 280.7062036332978,145.21684004105626 L 280.6474768323569,145.13047835274793 L 280.4855385733739,145.1036284008414 L 280.4413792343146,145.270187292975 L 280.38592523674924,145.31678163982113 L 280.21716424360096,145.2103047462047 L 280.10137911321175,144.9436130219058 L 280.09806541933926,144.7213294216159 L 280.15901638420235,144.4184818297271 L 280.12463924377016,144.06967502619048 L 280.2922056036317,143.89213353618305 L 280.3058497487412,143.71790659654684 L 280.27550264580105,143.6032282304818 L 280.1761258833582,143.44499015957356 L 280.06714310588166,143.36193332060049 L 279.8563739292748,143.28803083610774 L 279.8194333944531,143.23101496381037 L 279.84579934555995,143.1033231871138 L 273.7497994997427,134.76513386817314 L 270.97971153426187,118.18769953826893 z" id="c25023" />
		<path d="M 48.92403419492686,106.92660013951456 L 53.05763184657796,107.05846808572606 L 57.66266116880353,81.84619541937984 L 70.53279783952539,79.21934879056124 L 67.12793474832074,93.14286990915129 L 80.35590011037296,93.84379721859109 L 92.01816814770595,102.16165759314842 L 100.61003326013268,86.95007492214604 L 100.96117534376903,87.11471789089097 L 102.12460686432111,89.71200786632795 L 99.21844719810522,94.46389872849291 L 101.03125989320819,97.55618399502012 L 102.53041661202143,98.19810177795064 L 118.88400195294392,96.22592291594745 L 124.49950729090156,102.57490186367642 L 131.47596158758728,97.48040063813384 L 136.22422838808575,95.85531290379227 L 144.09780208908927,94.06126652575489 L 139.15521052873996,103.17010229022088 L 146.26397405872927,107.82824096488451 L 152.69216479229488,106.8588451449541 L 153.39757047823807,109.93009384841436 L 153.00539504400496,126.63148163949636 L 145.95683699093723,126.35166318558649 L 132.7458401868264,125.81334893532294 L 123.77504192771957,125.48477427346954 L 111.30112930344829,125.01404892156923 L 109.18487688741304,124.93259050537266 L 100.25794846165527,125.2442645247717 L 86.03000983571013,124.04748524402866 L 82.40942459114045,128.96163302653977 L 81.50973897535013,129.06787778203977 L 77.54757662262226,129.53474787343765 L 73.56197292074266,123.64356440203532 L 56.54765918983821,122.90395968773888 L 55.51973886513747,122.83670328784982 L 50.540337297218045,122.5093474624218 L 48.92403419492686,106.92660013951456 z" id="c25013" />
		<path d="M 50.706764975125076,70.18073956430892 L 56.67370062004605,71.76945031650325 L 62.14625809192851,47.88240927148381 L 61.45843713871531,45.459443501027415 L 72.31685720397734,47.9890754455693 L 72.71556633105864,56.57151398404719 L 91.48205999403189,61.73351185409193 L 94.84223568372214,68.29752869009513 L 114.83131543185799,65.16276794752665 L 127.54156154450733,67.39500738801216 L 129.80348505748822,84.97229878777082 L 134.04744525628544,79.09812950418475 L 136.9103412029958,77.90782259475569 L 145.4540398652194,84.174007305125 L 145.24455128640253,93.18295081927738 L 144.09780208908927,94.06126652575489 L 136.22422838808575,95.85531290379227 L 131.47596158758728,97.48040063813384 L 124.49950729090156,102.57490186367642 L 118.88400195294392,96.22592291594745 L 102.53041661202143,98.19810177795064 L 101.03125989320819,97.55618399502012 L 99.21844719810522,94.46389872849291 L 102.12460686432111,89.71200786632795 L 100.96117534376903,87.11471789089097 L 100.61003326013268,86.95007492214604 L 92.01816814770595,102.16165759314842 L 80.35590011037296,93.84379721859109 L 67.12793474832074,93.14286990915129 L 70.53279783952539,79.21934879056124 L 57.66266116880353,81.84619541937984 L 56.44154181957123,82.94217048588494 L 50.65262625856832,77.5842764357965 L 50.706764975125076,70.18073956430892 z" id="c25015" />
		<path d="M 313.46975699543367,198.7892672333361 L 313.8001908425996,192.26458217010762 L 311.4887178315108,190.54061792730508 L 314.31738213349837,183.58717756002142 L 322.22240205364733,170.55237737952308 L 320.90496489160813,168.24642697546653 L 328.45610695650083,164.688089361213 L 331.6962580859797,160.953938150983 L 336.4459854595543,166.61240542236456 L 342.3187794483842,169.75515083103522 L 355.5547609654888,172.2609654992608 L 361.3448394293383,174.45227517436376 L 367.64593033271325,171.1913570608208 L 378.19663055534954,168.77419427947228 L 389.0849761119108,164.44592450691414 L 391.4100858479857,161.26226306760358 L 391.11820469020256,154.68820387870204 L 384.04623148414,149.85089626378314 L 383.4471402305409,141.80172669412835 L 382.30116894676354,130.80765343252443 L 374.80529321644735,128.6633093530885 L 370.33060221772257,129.6606658097503 L 364.2147659369432,123.13005646538438 L 370.4680036950514,120.32126353874408 L 371.81160819750295,119.9374079590589 L 376.08450796707103,118.71523519790595 L 386.1043336336413,122.89770970240828 L 392.3315099479958,132.67020091025375 L 393.93384791159514,140.64494929231418 L 394.5626330665897,143.7707906339411 L 399.0212869452782,161.0805260278736 L 400.0,178.71686283163814 L 399.7457627204672,189.0653038548163 L 396.00535369459806,199.81155100013706 L 390.80544335243644,200.91810535020247 L 390.6590129810474,189.5496163927562 L 391.17150142834987,181.78651925636137 L 385.7258219762578,182.8254521176472 L 374.1488808254254,185.03670665339197 L 361.678228505499,189.9727392185326 L 355.83775494634534,188.0783434447441 L 346.96044242681177,191.70808444198678 L 341.93327363431365,193.89554690821868 L 338.45083688637516,198.88933787903014 L 329.05872260965924,200.411736432793 L 318.42208331958557,204.79016270093692 L 316.736047722954,205.70044288734448 L 313.53755990257855,203.5614727095096 L 310.3241615228002,201.14408065498384 L 313.46975699543367,198.7892672333361 z" id="c25001" />
		<path d="M 258.849927795685,89.9909645095948 L 262.7176223372361,82.94845397980991 L 261.55778498126915,78.46769387854947 L 267.19894770667173,77.88395184748082 L 271.594368921276,78.68803547059598 L 273.0798427239731,77.21123011230708 L 271.21339048057814,75.20188261253668 L 282.18317526937665,69.58796441789234 L 282.9797975375979,79.24298325714997 L 282.86783332509935,79.46778258697695 L 282.0581801729562,81.09303427637565 L 280.3994484788757,84.4207462834149 L 280.9238920635967,85.66981114274726 L 275.50612603640343,86.77583977469232 L 274.18997200789346,90.93407906561835 L 269.6765195497234,92.45803984850916 L 268.67199954586926,93.53815418188604 L 267.6508769729206,93.45215371796273 L 267.48692334881787,93.66384746248798 L 267.9042546464269,94.20311978621636 L 267.918368951679,95.31574459656879 L 266.0122933525177,96.6254308787366 L 266.43794664859604,97.22253121594855 L 265.5106402893778,98.30600936403262 L 263.77377268267077,94.12177085203533 L 259.17934677915395,90.3903677696792 L 258.849927795685,89.9909645095948 z" id="c25025" />
		<path d="M 296.4187778340748,96.73059822306286 L 298.385674212064,92.96766698532026 L 303.62728311476866,94.6118880171313 L 304.42083780182236,95.40639032264477 L 304.0188266182413,98.90668996385074 L 299.33501750422977,102.56006619642328 L 297.8043186639664,100.70662290565694 L 296.4187778340748,96.73059822306286 z M 224.1996898618368,116.56946929933324 L 226.60929915810013,112.41674690059139 L 226.69722981650855,108.60981543696532 L 241.69899712984906,102.18397500332594 L 246.36183907751982,95.09753678114686 L 243.4671335198035,85.36915756391218 L 250.13901654597166,83.16794819166695 L 254.4724217001863,84.30860328890101 L 258.849927795685,89.9909645095948 L 259.17934677915395,90.3903677696792 L 263.77377268267077,94.12177085203533 L 265.5106402893778,98.30600936403262 L 266.43794664859604,97.22253121594855 L 266.0122933525177,96.6254308787366 L 267.918368951679,95.31574459656879 L 267.9042546464269,94.20311978621636 L 267.48692334881787,93.66384746248798 L 267.6508769729206,93.45215371796273 L 268.67199954586926,93.53815418188604 L 269.6765195497234,92.45803984850916 L 274.18997200789346,90.93407906561835 L 275.50612603640343,86.77583977469232 L 280.9238920635967,85.66981114274726 L 283.74787667422896,92.38948703182109 L 285.8578805767447,90.27411254698224 L 289.69206247441224,89.32706702961701 L 288.3952240070319,108.9896020140574 L 285.70181702163285,110.38856395336595 L 270.97971153426187,118.18769953826893 L 264.46508075753695,121.548172312341 L 247.67531703182885,130.1558534502796 L 240.373838057713,133.82210447223494 L 237.21784548519412,134.45838275194671 L 237.27262534000988,129.4057463447348 L 228.70000239916482,129.60242622986053 L 224.21194789836665,129.70236489233574 L 224.2895060520173,122.35811529041867 L 224.1996898618368,116.56946929933324 z" id="c25021" />
		<path d="M 298.0878247570649,229.55459241871426 L 306.67520290405866,227.73832119457913 L 314.7054301141122,216.42523864462797 L 324.1086691232762,210.28947218311754 L 329.77177223886093,214.70466155128852 L 336.2071931063421,218.90943980573493 L 339.8578615453711,219.7722010340468 L 341.6201152652208,229.58572051559776 L 327.0321421920971,230.25608816585273 L 313.9108675522085,231.18412521420382 L 305.4170169229148,237.0252907921488 L 299.44438947552374,244.9002769831367 L 298.11245149775965,235.04046534577674 L 298.0878247570649,229.55459241871426 z M 286.7391651934992,214.32209896298554 L 301.206295602275,207.95759360644098 L 310.3241615228002,201.14408065498384 L 313.53755990257855,203.5614727095096 L 316.736047722954,205.70044288734448 L 309.3759984602896,209.66867822418266 L 303.0497655090664,215.64313321562665 L 295.4536207847089,218.69755059391446 L 285.18814395538476,221.1335076267183 L 286.7391651934992,214.32209896298554 z" id="c25007" />
		<path d="M 361.1408783069004,236.02622181039456 L 370.38299577390063,235.4999673790131 L 383.3240034316999,234.58897704260986 L 386.66584775415214,223.75306847039352 L 393.93796807615314,228.64033956188334 L 396.81326475837386,242.74978419660397 L 390.612025635731,246.7697940925344 L 381.3641037437024,246.38469230430576 L 368.4081055310434,245.25032021353576 L 361.1408783069004,236.02622181039456 z" id="c25019" />
		<path d="M 59.719666455839246,27.77003687715287 L 65.15710575139714,18.055275503006307 L 67.22950038605268,18.171441367888647 L 67.57794356328793,18.190928718385422 L 74.51202490398117,18.576081060405222 L 80.60358299233586,18.910272983319224 L 112.88166541316251,20.932781378828288 L 119.30676322533829,21.322306927933138 L 120.11544652095915,21.370860850706812 L 124.44001257457633,21.629345178928528 L 138.68497875503198,22.466894883676876 L 144.4777198581336,38.5008744784839 L 139.44059409449923,48.69152530874268 L 142.27372590408064,53.81527849520581 L 137.02143578633115,58.793202558456954 L 134.04744525628544,79.09812950418475 L 129.80348505748822,84.97229878777082 L 127.54156154450733,67.39500738801216 L 114.83131543185799,65.16276794752665 L 94.84223568372214,68.29752869009513 L 91.48205999403189,61.73351185409193 L 72.71556633105864,56.57151398404719 L 72.31685720397734,47.9890754455693 L 61.45843713871531,45.459443501027415 L 64.51854966299614,32.80294089974003 L 59.719666455839246,27.77003687715287 z" id="c25011" />
	</g>
</svg>
            <table>
                <thead>
                    <th></th>
                    <th>size</th>
                    <th>diff</th>
                </thead>
                <tbody id="group-pops">

                </tbody>
            </table>
            <div id="valid-box"></div>
            <div id="best-score-box" style="font-style: italic"></div>
        </div>
        <div id='hover-text' style="width: 200px"></div>
        <ul id="sorted-list"> </ul>
    </div>

    <hr>

    <footer id="footer">
        <a href="?k=2">k = 2</a>
        <a href="?k=3">k = 3</a>
        <a href="?k=4">k = 4</a>
        <br>
        
        <a href="de.html">de</a>
        
        <a href="ri.html">ri</a>
        
        <a href="ct.html">ct</a>
        
        <a href="nh.html">nh</a>
        
        <a href="ma.html">ma</a>
        
        <a href="vt.html">vt</a>
        
        <a href="az.html">az</a>
        
        <a href="me.html">me</a>
        
        <a href="nv.html">nv</a>
        
        <a href="nj.html">nj</a>
        
        <a href="wy.html">wy</a>
        
        <a href="md.html">md</a>
        
        <a href="ut.html">ut</a>
        
        <a href="nm.html">nm</a>
        
        <a href="or.html">or</a>
        
        <a href="wa.html">wa</a>
        
        <a href="id.html">id</a>
        
        <a href="sc.html">sc</a>
        
        <a href="nd.html">nd</a>
        
        <a href="wv.html">wv</a>
        
        <a href="mt.html">mt</a>
        
        <a href="ca.html">ca</a>
        
        <a href="ny.html">ny</a>
        
        <a href="co.html">co</a>
        
        <a href="la.html">la</a>
        
        <a href="sd.html">sd</a>
        
        <a href="al.html">al</a>
        
        <a href="fl.html">fl</a>
        
        <a href="pa.html">pa</a>
        
        <a href="wi.html">wi</a>
        
        <a href="ar.html">ar</a>
        
        <a href="ok.html">ok</a>
        
        <a href="ms.html">ms</a>
        
        <a href="mi.html">mi</a>
        
        <a href="mn.html">mn</a>
        
        <a href="oh.html">oh</a>
        
        <a href="in.html">in</a>
        
        <a href="ne.html">ne</a>
        
        <a href="tn.html">tn</a>
        
        <a href="ia.html">ia</a>
        
        <a href="nc.html">nc</a>
        
        <a href="il.html">il</a>
        
        <a href="ks.html">ks</a>
        
        <a href="mo.html">mo</a>
        
        <a href="ky.html">ky</a>
        
        <a href="va.html">va</a>
        
        <a href="ga.html">ga</a>
        
        <a href="tx.html">tx</a>
        
        <br>
        <a href="../index.html">index</a>
    </footer>

</body>

<script> const STATE = 'ma'</script>
<script>const COUNTY_DATA = {"c25001":{"name":"Barnstable","pop":228996,"adj":["c25005","c25007","c25023"]},"c25003":{"name":"Berkshire","pop":129026,"adj":["c09005","c25011","c25013","c25015","c36021","c36027","c36083","c50003"]},"c25005":{"name":"Bristol","pop":579200,"adj":["c25001","c25007","c25021","c25023","c44001","c44005","c44007"]},"c25007":{"name":"Dukes","pop":20600,"adj":["c25001","c25005","c25019"]},"c25009":{"name":"Essex","pop":809829,"adj":["c25017","c25025","c33011","c33015"]},"c25011":{"name":"Franklin","pop":71029,"adj":["c25003","c25015","c25027","c33005","c50003","c50025"]},"c25013":{"name":"Hampden","pop":465825,"adj":["c09003","c09005","c09013","c25003","c25015","c25027"]},"c25015":{"name":"Hampshire","pop":162308,"adj":["c25003","c25011","c25013","c25027"]},"c25017":{"name":"Middlesex","pop":1632002,"adj":["c25009","c25021","c25025","c25027","c33011"]},"c25019":{"name":"Nantucket","pop":14255,"adj":["c25007"]},"c25021":{"name":"Norfolk","pop":725981,"adj":["c25005","c25017","c25023","c25025","c25027","c44007"]},"c25023":{"name":"Plymouth","pop":530819,"adj":["c25001","c25005","c25021","c25025"]},"c25025":{"name":"Suffolk","pop":797936,"adj":["c25009","c25017","c25021","c25023"]},"c25027":{"name":"Worcester","pop":862111,"adj":["c09013","c09015","c25011","c25013","c25015","c25017","c25021","c33005","c33011","c44007"]}}; </script>
<script>const COLORS = ['darkgreen', 'blue', 'darkorange', 'purple', 'red', 'brown'];
const N_GROUPS = Number.parseInt(new URLSearchParams(document.location.search).get('k')) || 4;

const FMT = {
    human: (v) => new Intl.NumberFormat('en', { notation: 'compact' }).format(v),
    long: (v) => new Intl.NumberFormat('fr-FR').format(v),
}


function isValid() {
    const group_ixs = Array(N_GROUPS).fill(0).map((v, ix) => ix);

    const bad_groups = group_ixs.filter(ix => !isGroupConnected(ix));
    
    return [bad_groups.length === 0, bad_groups];
}

function isGroupConnected(grp) {
    const seen = {};
    function dfs(u) {
        seen[u] = true;
        const adj = COUNTY_DATA[u].adj.filter(v => GROUPS[v] === grp && !seen[v] && COUNTY_DATA[v]);
        adj.forEach(dfs);
    }
    const inGroup = Object.keys(GROUPS).filter(k => GROUPS[k] === grp);
    if (inGroup.length === 0) { return false; }
    dfs(inGroup[0]);

    return inGroup.sort().join(';') === Object.keys(seen).sort().join(';')
}


const makeToggle = (cid) => () => {
    toggleGroup(cid);
    updateDisplay([cid]);
}

function toggleGroup(cid) {
    const old_grp = GROUPS[cid];
    const new_grp = (old_grp+1) % N_GROUPS;
    GROUPS[cid] = new_grp;
}

const onMouseOver = function() {
    const el = document.getElementById('hover-text');
    const {name, pop} = COUNTY_DATA[this.id];

    el.textContent = `${name}\n${FMT.long(pop)}`;
}

function updateDisplay(cids) {
    cids.forEach(cid => {
        const grp = GROUPS[cid];
        const color = COLORS[grp]

        document.getElementById('list-'+cid).style.color = color;
        document.getElementById(cid).style.fill = color;
    });

    const rslt = sumGroups();
    Object.entries(rslt).forEach(([group, pop]) => {
        const row = [FMT.human(pop), FMT.long(pop), FMT.long(Math.floor(pop - TOTAL / N_GROUPS))];
        //textContent = FMT.human(pop) + "\t" + FMT.long(pop) + "\t" + Math.floor(pop - TOTAL / N_GROUPS);
        document.getElementById(`pop-${group}`).innerHTML =  row.map(v => `<td>${v}</td>`).join('')
    });

    const lsKey = `${STATE}-${N_GROUPS}`;
    const score = Math.floor(TOTAL/N_GROUPS - Math.min(...Object.values(rslt)));
    let bestScore = localStorage.getItem(lsKey) || '';
    const [valid, badGroups] = isValid();
    document.getElementById('score-box').innerHTML = `score: <b>${FMT.long(score)}</b>`;
    if (valid) {
        document.getElementById('valid-box').textContent = '✅ valid';
    } else {
        document.getElementById('valid-box').textContent = `❌ group ${badGroups[0]} not connected`
    }
    if (valid && Number(bestScore || TOTAL) > score) {
        bestScore = score;
        localStorage.setItem(lsKey, score);
        localStorage.setItem(lsKey+'-groups', JSON.stringify(friendlyGroups()));
    }

    document.getElementById('best-score-box').textContent = 'best: ' + FMT.long(bestScore);
}

function sumGroups() {
    const rslt = Object.fromEntries(Array(N_GROUPS).fill(0).map((v, ix) => [ix, 0]));
    Object.entries(GROUPS).forEach(([id, group]) => {
        const pop = COUNTY_DATA[id].pop;
        rslt[group] += pop;
    });

    return rslt;
}

function friendlyGroups() {
    const rslt = Object.fromEntries(Array(N_GROUPS).fill(0).map((v, ix) => [ix, []]));
    Object.entries(GROUPS).forEach(([id, grp]) => {
        rslt[grp].push(COUNTY_DATA[id].name);
    });
    return rslt;
}

function setup() {
    const county_els = Array.from(document.getElementsByTagName('path'));
    const county_ids = county_els.map(e => e.id);

    // map handlers
    county_els.forEach(path_el => {
        path_el.onmouseover = onMouseOver.bind(path_el);
        path_el.onclick = makeToggle(path_el.id);
    });

    // sorted list
    const sorted_counties = county_ids.map(cid => ({...COUNTY_DATA[cid], id: cid}));

    sorted_counties.sort((a,b) => b.pop - a.pop);
    //sorted_counties.sort((a,b) => b.name > a.name ? -1 : 1);

    const list_el = document.getElementById('sorted-list');
    sorted_counties.forEach(({id, name, pop}) => {
        const li = document.createElement("li");
        li.id = 'list-'+id;
        li.onclick = makeToggle(id);
        li.appendChild(document.createTextNode(name + ": " + FMT.long(pop)));
        list_el.appendChild(li) 

        li.onmouseover = () => {
            document.getElementById(id).style.stroke= 'red';
        }
        li.onmouseleave = () => {
            document.getElementById(id).style.stroke= null;
        }
    });

    const groups_el = document.getElementById('group-pops');
    for (let ix = 0; ix < N_GROUPS; ++ix) {
        const el = document.createElement("tr");
        el.id = 'pop-'+ix;
        el.style.color = COLORS[ix];
        groups_el.appendChild(el);
    }

    const total_pop = sorted_counties.reduce((acc, r) => acc + r.pop, 0);
    const groups = Object.fromEntries(county_ids.map(id => [id, 0]));

    return [groups, total_pop];
};

const [GROUPS, TOTAL] = setup();
updateDisplay(Object.keys(GROUPS)); </script>

</html>